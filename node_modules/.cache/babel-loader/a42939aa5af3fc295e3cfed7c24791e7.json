{"ast":null,"code":"import _defineProperty from\"/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{GoogleApiWrapper,Map,Marker,InfoWindow}from\"google-maps-react\";import GooglePlacesAutocomplete from\"react-google-places-autocomplete\";import\"react-google-places-autocomplete/dist/index.min.css\";import Geocode from\"react-geocode\";import Grid from\"@material-ui/core/Grid\";import{Dropdown}from\"semantic-ui-react\";import mapStyles from\"./mapStyles\";import Markers from\"./Markers\";import{Line,Doughnut}from\"react-chartjs-2\";import UserLocations from\"./UserLocations\";import{createLocationSuccess}from\"../actions/location\";import{connect}from\"react-redux\";import Card from\"@material-ui/core/Card\";import CardActions from\"@material-ui/core/CardActions\";import CardContent from\"@material-ui/core/CardContent\";import Typography from\"@material-ui/core/Typography\";import{createMuiTheme}from\"@material-ui/core/styles\";import{ThemeProvider}from\"@material-ui/styles\";import ArrowForwardIosIcon from\"@material-ui/icons/ArrowForwardIos\";import ArrowBackIosIcon from\"@material-ui/icons/ArrowBackIos\";import IconButton from\"@material-ui/core/IconButton\";import SaveAltIcon from\"@material-ui/icons/SaveAlt\";import HelpOutlineIcon from\"@material-ui/icons/HelpOutline\";import aqiTable from\"../images/aqiTable.png\";export var ClimateMap=/*#__PURE__*/function(_Component){_inherits(ClimateMap,_Component);var _super=_createSuper(ClimateMap);function ClimateMap(){var _this;_classCallCheck(this,ClimateMap);_this=_super.call(this);_this.state={searchText:\"\",showClimateScore:false,coords:{lat:-23.304354,lng:151.916417},address:\"Wilson Island, Australia\",allScores:false,showAQI:true,hoveredPinStat:{},hoveredCoords:{lat:\"\",lng:\"\"},showInfo:false,activeMarker:{},activeCSMarker:false,data:false,markersRendered:false,showUserLocations:false,hovered:false,myLocations:[],saveDisabled:false,modalOpen:\"none\",mapStyle:null};_this.mouseEnterHandler=function(marker,e){_this.setState({hovered:true,activeMarker:marker});};_this.mouseLeaveHandler=function(marker){_this.setState({hovered:false});};_this.onTimeout=function(){fetch(\"https://api.waqi.info/feed/geo:\".concat(_this.state.activeMarker.info.lat,\";\").concat(_this.state.activeMarker.info.lon,\"/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c\")).then(function(resp){return resp.json();}).then(function(data){if(_this.state.showUserLocations){_this.setState({data:data.data,showUserLocations:false});}else{_this.setState({data:data.data});}});};_this.clearTimer=function(){clearTimeout(_this.timer);};_this.onMarkerDragEnd=function(coord){var latLng=coord.latLng;var newLat=latLng.lat();var newLon=latLng.lng();_this._score.state.coords.lat=newLat;_this._score.state.coords.lng=newLon;_this._map.map.setCenter({lat:newLat,lng:newLon});Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");Geocode.fromLatLng(newLat,newLon).then(function(response){var newAddress=response.results[0].formatted_address;_this._score.state.address=newAddress;},function(error){console.error(error);});fetch(\"https://api.waqi.info/feed/geo:\".concat(newLat,\";\").concat(newLon,\"/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c\")).then(function(resp){return resp.json();}).then(function(data){_this._score.state.aqi=data.data.aqi;});};_this.handleSubmit=function(value){Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");Geocode.fromAddress(\"\".concat(value.description)).then(function(response){var _response$results$0$g=response.results[0].geometry.location,lat=_response$results$0$g.lat,lng=_response$results$0$g.lng;_this.setState({coords:{lat:lat,lng:lng}});_this._map.map.setCenter({lat:lat,lng:lng});_this._search.clearValue();fetch(\"https://climate-score.p.rapidapi.com/\".concat(lat,\"/\").concat(lng),{method:\"GET\",headers:{\"x-rapidapi-host\":\"climate-score.p.rapidapi.com\",\"x-rapidapi-key\":\"c5855f8358mshe884588b34ae70ep1a1627jsn5e1e97c23a80\"}}).then(function(resp){return resp.json();}).then(function(data){_this.setState({allScores:{ClimateScore:data.ClimateScore,DroughtScore:data.DroughtScore,FireScore:data.FireScore,SeaLevelScore:data.SeaLevelScore,StormScore:data.StormScore,TempScore:data.TempScore}});}).catch(function(err){_this.setState({allScores:false});});Geocode.fromLatLng(lat,lng).then(function(response){},function(error){console.error(error);});fetch(\"https://api.waqi.info/feed/geo:\".concat(lat,\";\").concat(lng,\"/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c\")).then(function(resp){return resp.json();}).then(function(locationData){_this.setState({data:locationData.data});});});};_this.showClimateScore=function(marker){var newLat=marker.position.lat;var newLon=marker.position.lng;Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");Geocode.fromLatLng(newLat,newLon).then(function(response){var newAddress=response.results[0].formatted_address;_this.setState({address:newAddress,activeCSMarker:marker});});};_this.renderClimateScores=function(){return _this.props.climateScores.map(function(score){var numberString=score.ClimateScore.toString();var google=_this.props.google;var iw=83,ih=107;return/*#__PURE__*/React.createElement(Marker,{score:score,onClick:_this.showClimateScore,position:{lat:score.lat,lng:score.lng},icon:{url:\"https://waqi.info/mapicon/\".concat(numberString,\".50.png\"),anchor:new google.maps.Point(iw/4,ih/2-5),size:new google.maps.Size(iw/2,ih/2),scaledSize:new google.maps.Size(30,40)}});});};_this.labelClicked=function(e){if(e.nativeEvent.target.innerHTML===\"Climate Scoreâ„¢\"){_this.setState({showAQI:false});}else{_this.setState({showAQI:true,activeCSMarker:false});}};_this.mouseOut=function(e){_this.setState({showInfo:false});};_this.onMarkerClick=function(marker,e){fetch(\"https://api.waqi.info/feed/geo:\".concat(marker.info.lat,\";\").concat(marker.info.lon,\"/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c\")).then(function(resp){return resp.json();}).then(function(data){if(_this.state.showUserLocations){_this.setState({data:data.data,showUserLocations:false});}else{_this.setState({data:data.data});}});};_this.onMarkerHover=function(props,marker,e){_this.setState({activeMarker:marker,showInfo:true});};_this.addLocation=function(){if(_this.state.data!==false){var newLocation={name:_this.state.data.city.name,user_id:_this.props.auth.id,lat:_this.state.data.city.geo[0],lng:_this.state.data.city.geo[1]};var reqObj={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(newLocation)};fetch(\"http://localhost:3001/locations\",reqObj).then(function(resp){return resp.json();}).then(function(newLocation){_this.props.createLocationSuccess(newLocation);});}};_this.goToLocation=function(location){_this._map.map.setCenter({lat:location.lat,lng:location.lng});fetch(\"https://api.waqi.info/feed/geo:\".concat(location.lat,\";\").concat(location.lng,\"/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c\")).then(function(resp){return resp.json();}).then(function(data){_this.setState({data:data.data,showUserLocations:false});});};_this.showMyList=function(){_this.setState({showUserLocations:true});};_this.showStats=function(){_this.setState({showUserLocations:false});};_this.openModal=function(){_this.setState({modalOpen:\"block\"});};_this.handleModalClose=function(){_this.setState({modalOpen:\"none\"});};_this.timer=null;return _this;}_createClass(ClimateMap,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.clearTimer();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){if(this.state.hovered){this.timer=setTimeout(this.onTimeout,500);}else{this.clearTimer();}}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"http://localhost:3001/locations\").then(function(resp){return resp.json();}).then(function(locations){var usersLocations=locations.filter(function(loc){return loc.user_id===_this2.props.auth.id;});_this2.setState({myLocations:usersLocations});});navigator.geolocation.getCurrentPosition(function(position){var lat=position.coords.latitude;var lng=position.coords.longitude;var currentLocation={lat:lat,lng:lng};_this2.setState({coords:currentLocation});});}},{key:\"render\",value:function render(){var _this3=this,_React$createElement;var aqiColor;if(this.state.data!==false&&this.state.data.aqi<=50){aqiColor=\"#c1ff7a\";}else if(this.state.data!==false&&this.state.data.aqi<=100){aqiColor=\"#ffff33\";}else if(this.state.data!==false&&this.state.data.aqi<=150){aqiColor=\"#ffc570\";}else if(this.state.data!==false&&this.state.data.aqi<=200){aqiColor=\"#f6685e\";}else if(this.state.data!==false&&this.state.data.aqi<=300){aqiColor=\"#ea80fc\";}else{aqiColor=\"#b2b9e1\";}var climColor;if(this.state.activeCSMarker!==false&&this.state.activeCSMarker.score.ClimateScore<=25){climColor=\"#c1ff7a\";}else if(this.state.activeCSMarker!==false&&this.state.activeCSMarker.score.ClimateScore<=50){climColor=\"#ffff33\";}else{climColor=\"#ffc570\";}var o3Data;var uviData;var pm10Data;var pm25Data;var days;var hours;var minutes;var droughtData;var fireData;var seaData;var stormData;var tempData;if(this.state.activeCSMarker){droughtData={datasets:[{data:[this.state.activeCSMarker.score.DroughtScore,100-this.state.activeCSMarker.score.DroughtScore],backgroundColor:[\"#FF6384\",\"#36A2EB\"],hoverBackgroundColor:[\"#FF6384\",\"#36A2EB\"]}]};fireData={datasets:[{data:[this.state.activeCSMarker.score.FireScore,100-this.state.activeCSMarker.score.FireScore],backgroundColor:[\"#FF6384\",\"#36A2EB\"],hoverBackgroundColor:[\"#FF6384\",\"#36A2EB\"]}]};seaData={datasets:[{data:[this.state.activeCSMarker.score.SeaLevelScore,100-this.state.activeCSMarker.score.SeaLevelScore],backgroundColor:[\"#FF6384\",\"#36A2EB\"],hoverBackgroundColor:[\"#FF6384\",\"#36A2EB\"]}]};stormData={datasets:[{data:[this.state.activeCSMarker.score.StormScore,100-this.state.activeCSMarker.score.StormScore],backgroundColor:[\"#FF6384\",\"#36A2EB\"],hoverBackgroundColor:[\"#FF6384\",\"#36A2EB\"]}]};tempData={datasets:[{data:[this.state.activeCSMarker.score.TempScore,100-this.state.activeCSMarker.score.TempScore],backgroundColor:[\"#FF6384\",\"#36A2EB\"],hoverBackgroundColor:[\"#FF6384\",\"#36A2EB\"]}]};}if(this.state.data!==false){var now=new Date().getTime();var newDate=new Date(this.state.data.time.iso).getTime();var distance=newDate-now;days=Math.floor(distance/(1000*60*60*24));hours=Math.floor(distance%(1000*60*60*24)/(1000*60*60));minutes=Math.floor(distance%(1000*60*60)/(1000*60));if(this.state.data.forecast.daily!==undefined&&\"o3\"in this.state.data.forecast.daily){var labelArr=[],avgArr=[],minArr=[],maxArr=[];for(var i=0;i<this.state.data.forecast.daily.o3.length;i++){labelArr.push(new Date(this.state.data.forecast.daily.o3[i].day).toString().substring(0,10));avgArr.push(this.state.data.forecast.daily.o3[i].avg);minArr.push(this.state.data.forecast.daily.o3[i].min);maxArr.push(this.state.data.forecast.daily.o3[i].max);}o3Data={labels:labelArr,datasets:[{label:\"max\",backgroundColor:\"#f7ff66\",borderColor:\"#f7ff66\",borderWidth:0,data:maxArr,fill:\"1\",radius:1},{label:\"avg\",backgroundColor:\"#4a9eff\",borderColor:\"#4a9eff\",borderWidth:1,data:avgArr,fill:\"-1\",line:false,radius:5},{label:\"min\",backgroundColor:\"#87ff9f\",borderColor:\"#87ff9f\",borderWidth:0,data:minArr,line:false,fill:\"1\",radius:1}]};}if(this.state.data.forecast.daily!==undefined&&\"pm10\"in this.state.data.forecast.daily){var _labelArr=[],_avgArr=[],_minArr=[],_maxArr=[];for(var _i=0;_i<this.state.data.forecast.daily.pm10.length;_i++){_labelArr.push(new Date(this.state.data.forecast.daily.pm10[_i].day).toString().substring(0,10));_avgArr.push(this.state.data.forecast.daily.pm10[_i].avg);_minArr.push(this.state.data.forecast.daily.pm10[_i].min);_maxArr.push(this.state.data.forecast.daily.pm10[_i].max);}pm10Data={labels:_labelArr,datasets:[{label:\"max\",backgroundColor:\"#f7ff66\",borderColor:\"#f7ff66\",borderWidth:0,data:_maxArr,fill:\"1\",radius:1},{label:\"avg\",backgroundColor:\"#4a9eff\",borderColor:\"#4a9eff\",borderWidth:1,data:_avgArr,fill:\"-1\",line:false,radius:5},{label:\"min\",backgroundColor:\"#87ff9f\",borderColor:\"#87ff9f\",borderWidth:0,data:_minArr,line:false,fill:\"1\",radius:1}]};}if(this.state.data.forecast.daily!==undefined&&\"pm25\"in this.state.data.forecast.daily){var _labelArr2=[],_avgArr2=[],_minArr2=[],_maxArr2=[];for(var _i2=0;_i2<this.state.data.forecast.daily.pm25.length;_i2++){_labelArr2.push(new Date(this.state.data.forecast.daily.pm25[_i2].day).toString().substring(0,10));_avgArr2.push(this.state.data.forecast.daily.pm25[_i2].avg);_minArr2.push(this.state.data.forecast.daily.pm25[_i2].min);_maxArr2.push(this.state.data.forecast.daily.pm25[_i2].max);}pm25Data={labels:_labelArr2,datasets:[{label:\"max\",backgroundColor:\"#f7ff66\",borderColor:\"#f7ff66\",borderWidth:0,data:_maxArr2,fill:\"1\",radius:1},{label:\"avg\",backgroundColor:\"#4a9eff\",borderColor:\"#4a9eff\",borderWidth:1,data:_avgArr2,fill:\"-1\",line:false,radius:5},{label:\"min\",backgroundColor:\"#87ff9f\",borderColor:\"#87ff9f\",borderWidth:0,data:_minArr2,line:false,fill:\"1\",radius:1}]};}if(this.state.data.forecast.daily!==undefined&&\"uvi\"in this.state.data.forecast.daily){var _labelArr3=[],_avgArr3=[],_minArr3=[],_maxArr3=[];for(var _i3=0;_i3<this.state.data.forecast.daily.uvi.length;_i3++){_labelArr3.push(new Date(this.state.data.forecast.daily.uvi[_i3].day).toString().substring(0,10));_avgArr3.push(this.state.data.forecast.daily.uvi[_i3].avg);_minArr3.push(this.state.data.forecast.daily.uvi[_i3].min);_maxArr3.push(this.state.data.forecast.daily.uvi[_i3].max);}uviData={labels:_labelArr3,datasets:[{label:\"max\",backgroundColor:\"#f7ff66\",borderColor:\"#f7ff66\",borderWidth:0,data:_maxArr3,fill:\"1\",radius:1},{label:\"avg\",backgroundColor:\"#4a9eff\",borderColor:\"#4a9eff\",borderWidth:1,data:_avgArr3,fill:\"-1\",line:false,radius:5},{label:\"min\",backgroundColor:\"#87ff9f\",borderColor:\"#87ff9f\",borderWidth:0,data:_minArr3,line:false,fill:\"1\",radius:1}]};}}var mapOptions=[{key:\"Climate Score\",text:\"Climate Scoreâ„¢\",value:\"Climate Score\"},{key:\"Air Quality Index\",text:\"Air Quality Index\",value:\"Air Quality Index\"}];var darkTheme=createMuiTheme({palette:{type:\"dark\"}});var saveDisabled;if(this.state.data!==false&&this.props.locations!==[]&&this.props.locations.some(function(loc){return loc.name===_this3.state.data.city.name;})){saveDisabled=true;}else{saveDisabled=false;}var showAqiTable=this.state.modalOpen;return/*#__PURE__*/React.createElement(ThemeProvider,{theme:darkTheme},/*#__PURE__*/React.createElement(\"div\",{className:\"nav\"},/*#__PURE__*/React.createElement(\"img\",{id:\"aqiTable\",src:aqiTable,alt:\"aqiTable\",style:{display:showAqiTable}}),/*#__PURE__*/React.createElement(Grid,(_React$createElement={container:true,direction:\"row\",justify:\"flex-start\",alignItems:\"flex-start\"},_defineProperty(_React$createElement,\"container\",true),_defineProperty(_React$createElement,\"spacing\",0),_React$createElement),/*#__PURE__*/React.createElement(\"div\",{className:\"search\"},/*#__PURE__*/React.createElement(GooglePlacesAutocomplete,{ref:function ref(search){return _this3._search=search;},onSelect:this.handleSubmit,inputStyle:{background:\"rgba(255, 255, 255, 0.3)\",color:\"#FFFFFF\",\"border-radius\":\"1px\"},placeholder:\"\\uD83D\\uDD0E Search Anywhere!\",suggestionsStyles:{background:\"none\",\"border-radius\":\"1px\"}})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:8},/*#__PURE__*/React.createElement(\"div\",{className:\"location\"},/*#__PURE__*/React.createElement(Map,{ref:function ref(map){return _this3._map=map;},google:this.props.google,styles:this.state.mapStyle,disableDefaultUI:true,streetViewControl:true,zoomControl:true,mapTypeControl:true,mapTypeControlOptions:{position:this.props.google.maps.ControlPosition.TOP_CENTER},zoomControlOptions:{style:this.props.google.maps.ZoomControlStyle.DEFAUL,position:this.props.google.maps.ControlPosition.LEFT_CENTER},streetViewControlOptions:{position:this.props.google.maps.ControlPosition.LEFT_CENTER},onCenterChanged:function onCenterChanged(){},initialCenter:this.state.coords,center:this.state.coords,onClick:this.mapCLicked,zoom:14},/*#__PURE__*/React.createElement(\"div\",{className:\"filter\"},/*#__PURE__*/React.createElement(Dropdown,{closeOnChange:true,inline:true,options:mapOptions,onChange:this.labelClicked,defaultValue:mapOptions[1].value})),this.state.showAQI?/*#__PURE__*/React.createElement(Markers,{onClick:this.onMarkerClick,onMouseover:this.mouseEnterHandler,onMouseout:this.mouseLeaveHandler}):null,!this.state.showAQI?this.renderClimateScores():null,/*#__PURE__*/React.createElement(InfoWindow,{marker:this.state.activeMarker,maxWidth:175,onMouseover:function onMouseover(){return _this3.showInfo();},style:{\"background-color\":\"#000000\"},visible:this.state.showInfo},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h4\",null,this.state.showInfo?this.state.activeMarker.info.station.name:null,\" \")))))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:4},/*#__PURE__*/React.createElement(\"div\",{className:\"hello\"},this.state.activeCSMarker?/*#__PURE__*/React.createElement(Card,{variant:\"outlined\",style:{maxHeight:718,overflow:\"auto\"}},/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(Typography,{variant:\"h4\",component:\"h2\",style:{color:climColor}},this.state.activeCSMarker!==false?\"Climate Score: \"+this.state.activeCSMarker.score.ClimateScore:null),/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",component:\"h2\"},this.state.activeCSMarker!==false?this.state.address:null),/*#__PURE__*/React.createElement(\"div\",{class:\"clim-score\"},/*#__PURE__*/React.createElement(\"h1\",null,this.state.activeCSMarker.score.DroughtScore)),/*#__PURE__*/React.createElement(Doughnut,{data:droughtData,options:{responsive:true,title:{display:true,text:\"Drought Score\",fontSize:18,fontColor:\"#FFFFFF\"},legend:{display:false}}}),/*#__PURE__*/React.createElement(\"div\",{class:\"clim-score\"},/*#__PURE__*/React.createElement(\"h1\",null,this.state.activeCSMarker.score.StormScore)),/*#__PURE__*/React.createElement(Doughnut,{data:stormData,options:{responsive:true,title:{display:true,text:\"Storm Score\",fontSize:18,fontColor:\"#FFFFFF\"},legend:{display:false}}}),/*#__PURE__*/React.createElement(\"div\",{class:\"clim-score\"},/*#__PURE__*/React.createElement(\"h1\",null,this.state.activeCSMarker.score.TempScore)),/*#__PURE__*/React.createElement(Doughnut,{data:tempData,options:{responsive:true,title:{display:true,text:\"Temperature Score\",fontSize:18,fontColor:\"#FFFFFF\"},legend:{display:false}}}),/*#__PURE__*/React.createElement(\"div\",{class:\"clim-score\"},/*#__PURE__*/React.createElement(\"h1\",null,this.state.activeCSMarker.score.FireScore)),/*#__PURE__*/React.createElement(Doughnut,{data:fireData,options:{responsive:true,title:{display:true,text:\"Fire Score\",fontSize:18,fontColor:\"#FFFFFF\"},legend:{display:false}}}),/*#__PURE__*/React.createElement(\"div\",{class:\"clim-score\"},/*#__PURE__*/React.createElement(\"h1\",null,this.state.activeCSMarker.score.SeaLevelScore)),/*#__PURE__*/React.createElement(Doughnut,{data:seaData,options:{responsive:true,title:{display:true,text:\"Sea Level Score\",fontSize:18,fontColor:\"#FFFFFF\"},legend:{display:false}}}))):null,!this.state.showUserLocations&&this.state.showAQI?/*#__PURE__*/React.createElement(Card,{variant:\"outlined\",style:{maxHeight:718,overflow:\"auto\"}},/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(\"div\",{className:\"next2\"},/*#__PURE__*/React.createElement(IconButton,{className:\"go-and-back\",onClick:this.showMyList,color:\"white\"},/*#__PURE__*/React.createElement(ArrowForwardIosIcon,null))),/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",component:\"h2\",style:{color:aqiColor}},this.state.data!==false?\"Air Quality Index: \"+this.state.data.aqi:null,this.state.data!==false?/*#__PURE__*/React.createElement(\"span\",null,\" \",/*#__PURE__*/React.createElement(IconButton,{className:\"help-icon\",onMouseOver:function onMouseOver(){return _this3.openModal();},onMouseOut:function onMouseOut(){return _this3.handleModalClose();},color:\"white\"},/*#__PURE__*/React.createElement(HelpOutlineIcon,{style:{color:\"rgba(255, 255, 255, 0.5)\"}}))):null),/*#__PURE__*/React.createElement(Typography,{variant:\"h4\",component:\"h2\"},this.state.data!==false?this.state.data.city.name:null),/*#__PURE__*/React.createElement(Typography,{color:\"textSecondary\"},this.state.data!==false?+\"\"+-hours+\" hrs & \"+-minutes+\" mins ago - \"+this.state.data.time.s:null),this.state.data!==false&&this.state.data.forecast.daily!==undefined?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Line,{data:o3Data,options:{responsive:true,scales:{yAxes:[{ticks:{beginAtZero:true,fontColor:\"white\"}}],xAxes:[{ticks:{beginAtZero:true,fontColor:\"white\"}}]},tooltips:{mode:\"index\",intersect:true,callbacks:{label:function label(tooltipItem){return Number(tooltipItem.yLabel)+\" Âµg/mÂ³\";}},displayColors:true},title:{display:true,text:\"Ozone (O3) Forecast\",fontSize:12,fontColor:\"#FFFFFF\"},legend:{display:false,position:\"top\"}}}),/*#__PURE__*/React.createElement(Line,{data:pm10Data,options:{responsive:true,scales:{yAxes:[{ticks:{beginAtZero:true,fontColor:\"white\"}}],xAxes:[{ticks:{beginAtZero:true,fontColor:\"white\"}}]},tooltips:{mode:\"index\",intersect:false,callbacks:{label:function label(tooltipItem){return Number(tooltipItem.yLabel)+\" Âµg/mÂ³\";}},displayColors:true},title:{display:true,text:\"Large Particles (pm10 Forecast)\",fontSize:12,fontColor:\"#FFFFFF\"},legend:{display:false,position:\"top\"}}}),/*#__PURE__*/React.createElement(Line,{data:pm25Data,options:{responsive:true,scales:{yAxes:[{ticks:{beginAtZero:true,fontColor:\"white\"}}],xAxes:[{ticks:{beginAtZero:true,fontColor:\"white\"}}]},tooltips:{mode:\"index\",intersect:false,callbacks:{label:function label(tooltipItem){return Number(tooltipItem.yLabel)+\" Âµg/mÂ³\";}},displayColors:true},title:{display:true,text:\"Small Particles (pm2.5 Forecast)\",fontSize:12,fontColor:\"#FFFFFF\"},legend:{display:false,position:\"top\"}}}),/*#__PURE__*/React.createElement(Line,{data:uviData,options:{responsive:true,scales:{yAxes:[{ticks:{beginAtZero:true,fontColor:\"white\"}}],xAxes:[{ticks:{beginAtZero:true,fontColor:\"white\"}}]},tooltips:{mode:\"index\",intersect:false,callbacks:{label:function label(tooltipItem){return Number(tooltipItem.yLabel)+\" UV\";}},displayColors:true},title:{display:true,text:\"Ultra Violet Index (UVI Forecast)\",fontSize:12,fontColor:\"#FFFFFF\"},legend:{display:false,position:\"top\"}}})):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Welcome to MyClimate.\"),/*#__PURE__*/React.createElement(\"h2\",null,\"Click a location for details.\"))),/*#__PURE__*/React.createElement(CardActions,null,/*#__PURE__*/React.createElement(\"div\",{className:\"save\"},this.state.data!==false?/*#__PURE__*/React.createElement(IconButton,{className:\"upload-icon\",disabled:saveDisabled,onClick:this.addLocation},/*#__PURE__*/React.createElement(SaveAltIcon,{fontSize:\"large\"})):null))):null,this.state.showUserLocations?/*#__PURE__*/React.createElement(Card,{variant:\"outlined\",style:{maxHeight:718,overflow:\"auto\"}},/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(Typography,{vcolor:\"textSecondary\",gutterBottom:true},\"Saved Locations\"),/*#__PURE__*/React.createElement(\"div\",{className:\"next\"},/*#__PURE__*/React.createElement(IconButton,{onClick:this.showStats,className:\"go-and-back\",color:\"white\",\"aria-label\":\"next\"},/*#__PURE__*/React.createElement(ArrowBackIosIcon,null))),/*#__PURE__*/React.createElement(UserLocations,{locations:this.state.myLocations,clicked:this.goToLocation}))):null)))));}}]);return ClimateMap;}(Component);document.body.style=\"background: #424242;\";var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,locations:state.locations,stats:state.stats};};var mapDispatchToProps={createLocationSuccess:createLocationSuccess};var WrappedContainer=GoogleApiWrapper({apiKey:\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\"})(ClimateMap);export default connect(mapStateToProps,mapDispatchToProps)(WrappedContainer);","map":{"version":3,"sources":["/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/src/components/ClimateMap.js"],"names":["React","Component","GoogleApiWrapper","Map","Marker","InfoWindow","GooglePlacesAutocomplete","Geocode","Grid","Dropdown","mapStyles","Markers","Line","Doughnut","UserLocations","createLocationSuccess","connect","Card","CardActions","CardContent","Typography","createMuiTheme","ThemeProvider","ArrowForwardIosIcon","ArrowBackIosIcon","IconButton","SaveAltIcon","HelpOutlineIcon","aqiTable","ClimateMap","state","searchText","showClimateScore","coords","lat","lng","address","allScores","showAQI","hoveredPinStat","hoveredCoords","showInfo","activeMarker","activeCSMarker","data","markersRendered","showUserLocations","hovered","myLocations","saveDisabled","modalOpen","mapStyle","mouseEnterHandler","marker","e","setState","mouseLeaveHandler","onTimeout","fetch","info","lon","then","resp","json","clearTimer","clearTimeout","timer","onMarkerDragEnd","coord","latLng","newLat","newLon","_score","_map","map","setCenter","setApiKey","fromLatLng","response","newAddress","results","formatted_address","error","console","aqi","handleSubmit","value","fromAddress","description","geometry","location","_search","clearValue","method","headers","ClimateScore","DroughtScore","FireScore","SeaLevelScore","StormScore","TempScore","catch","err","locationData","position","renderClimateScores","props","climateScores","score","numberString","toString","google","iw","ih","url","anchor","maps","Point","size","Size","scaledSize","labelClicked","nativeEvent","target","innerHTML","mouseOut","onMarkerClick","onMarkerHover","addLocation","newLocation","name","city","user_id","auth","id","geo","reqObj","body","JSON","stringify","goToLocation","showMyList","showStats","openModal","handleModalClose","setTimeout","locations","usersLocations","filter","loc","navigator","geolocation","getCurrentPosition","latitude","longitude","currentLocation","aqiColor","climColor","o3Data","uviData","pm10Data","pm25Data","days","hours","minutes","droughtData","fireData","seaData","stormData","tempData","datasets","backgroundColor","hoverBackgroundColor","now","Date","getTime","newDate","time","iso","distance","Math","floor","forecast","daily","undefined","labelArr","avgArr","minArr","maxArr","i","o3","length","push","day","substring","avg","min","max","labels","label","borderColor","borderWidth","fill","radius","line","pm10","pm25","uvi","mapOptions","key","text","darkTheme","palette","type","some","showAqiTable","display","search","background","color","ControlPosition","TOP_CENTER","style","ZoomControlStyle","DEFAUL","LEFT_CENTER","mapCLicked","station","maxHeight","overflow","responsive","title","fontSize","fontColor","legend","s","scales","yAxes","ticks","beginAtZero","xAxes","tooltips","mode","intersect","callbacks","tooltipItem","Number","yLabel","displayColors","document","mapStateToProps","stats","mapDispatchToProps","WrappedContainer","apiKey"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { GoogleApiWrapper, Map, Marker, InfoWindow } from \"google-maps-react\";\nimport GooglePlacesAutocomplete from \"react-google-places-autocomplete\";\nimport \"react-google-places-autocomplete/dist/index.min.css\";\nimport Geocode from \"react-geocode\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Dropdown } from \"semantic-ui-react\";\nimport mapStyles from \"./mapStyles\";\nimport Markers from \"./Markers\";\nimport { Line, Doughnut } from \"react-chartjs-2\";\nimport UserLocations from \"./UserLocations\";\nimport { createLocationSuccess } from \"../actions/location\";\nimport { connect } from \"react-redux\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SaveAltIcon from \"@material-ui/icons/SaveAlt\";\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\nimport aqiTable from \"../images/aqiTable.png\";\n\nexport class ClimateMap extends Component {\n  constructor() {\n    super();\n    this.timer = null;\n  }\n  state = {\n    searchText: \"\",\n    showClimateScore: false,\n    coords: {\n      lat: -23.304354,\n      lng: 151.916417,\n    },\n    address: \"Wilson Island, Australia\",\n    allScores: false,\n    showAQI: true,\n    hoveredPinStat: {},\n    hoveredCoords: {\n      lat: \"\",\n      lng: \"\",\n    },\n    showInfo: false,\n    activeMarker: {},\n    activeCSMarker: false,\n    data: false,\n    markersRendered: false,\n    showUserLocations: false,\n    hovered: false,\n    myLocations: [],\n    saveDisabled: false,\n    modalOpen: \"none\",\n    mapStyle: null,\n  };\n\n  mouseEnterHandler = (marker, e) => {\n    this.setState({ hovered: true, activeMarker: marker });\n  };\n\n  mouseLeaveHandler = (marker) => {\n    this.setState({ hovered: false });\n  };\n\n  componentWillUnmount() {\n    this.clearTimer();\n  }\n\n  onTimeout = () => {\n    fetch(\n      `https://api.waqi.info/feed/geo:${this.state.activeMarker.info.lat};${this.state.activeMarker.info.lon}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n    )\n      .then((resp) => resp.json())\n      .then((data) => {\n        if (this.state.showUserLocations) {\n          this.setState({\n            data: data.data,\n            showUserLocations: false,\n          });\n        } else {\n          this.setState({\n            data: data.data,\n          });\n        }\n      });\n  };\n\n  clearTimer = () => {\n    clearTimeout(this.timer);\n  };\n\n  componentDidUpdate() {\n    if (this.state.hovered) {\n      this.timer = setTimeout(this.onTimeout, 500);\n    } else {\n      this.clearTimer();\n    }\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:3001/locations\")\n      .then((resp) => resp.json())\n      .then((locations) => {\n        const usersLocations = locations.filter(\n          (loc) => loc.user_id === this.props.auth.id\n        );\n        this.setState({\n          myLocations: usersLocations,\n        });\n      });\n    navigator.geolocation.getCurrentPosition((position) => {\n      let lat = position.coords.latitude;\n      let lng = position.coords.longitude;\n      let currentLocation = { lat: lat, lng: lng };\n      this.setState({\n        coords: currentLocation,\n      });\n    });\n  }\n\n  onMarkerDragEnd = (coord) => {\n    const { latLng } = coord;\n    const newLat = latLng.lat();\n    const newLon = latLng.lng();\n    this._score.state.coords.lat = newLat;\n    this._score.state.coords.lng = newLon;\n    this._map.map.setCenter({ lat: newLat, lng: newLon });\n    Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");\n    Geocode.fromLatLng(newLat, newLon).then(\n      (response) => {\n        const newAddress = response.results[0].formatted_address;\n        this._score.state.address = newAddress;\n      },\n      (error) => {\n        console.error(error);\n      }\n    );\n    fetch(\n      `https://api.waqi.info/feed/geo:${newLat};${newLon}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n    )\n      .then((resp) => resp.json())\n      .then((data) => {\n        this._score.state.aqi = data.data.aqi;\n      });\n  };\n\n  handleSubmit = (value) => {\n    Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");\n    Geocode.fromAddress(`${value.description}`).then((response) => {\n      const { lat, lng } = response.results[0].geometry.location;\n\n      this.setState({\n        coords: {\n          lat: lat,\n          lng: lng,\n        },\n      });\n      this._map.map.setCenter({ lat: lat, lng: lng });\n      this._search.clearValue();\n      fetch(`https://climate-score.p.rapidapi.com/${lat}/${lng}`, {\n        method: \"GET\",\n        headers: {\n          \"x-rapidapi-host\": \"climate-score.p.rapidapi.com\",\n          \"x-rapidapi-key\":\n            \"c5855f8358mshe884588b34ae70ep1a1627jsn5e1e97c23a80\",\n        },\n      })\n        .then((resp) => resp.json())\n        .then((data) => {\n          this.setState({\n            allScores: {\n              ClimateScore: data.ClimateScore,\n              DroughtScore: data.DroughtScore,\n              FireScore: data.FireScore,\n              SeaLevelScore: data.SeaLevelScore,\n              StormScore: data.StormScore,\n              TempScore: data.TempScore,\n            },\n          });\n        })\n        .catch((err) => {\n          this.setState({\n            allScores: false,\n          });\n        });\n      Geocode.fromLatLng(lat, lng).then(\n        (response) => {},\n        (error) => {\n          console.error(error);\n        }\n      );\n      fetch(\n        `https://api.waqi.info/feed/geo:${lat};${lng}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n      )\n        .then((resp) => resp.json())\n        .then((locationData) => {\n          this.setState({\n            data: locationData.data,\n          });\n        });\n    });\n  };\n\n  showClimateScore = (marker) => {\n    const newLat = marker.position.lat;\n    const newLon = marker.position.lng;\n    Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");\n    Geocode.fromLatLng(newLat, newLon).then((response) => {\n      const newAddress = response.results[0].formatted_address;\n      this.setState({\n        address: newAddress,\n        activeCSMarker: marker,\n      });\n    });\n  };\n\n  renderClimateScores = () => {\n    return this.props.climateScores.map((score) => {\n      const numberString = score.ClimateScore.toString();\n      const google = this.props.google;\n      let iw = 83,\n        ih = 107;\n      return (\n        <Marker\n          score={score}\n          onClick={this.showClimateScore}\n          position={{ lat: score.lat, lng: score.lng }}\n          icon={{\n            url: `https://waqi.info/mapicon/${numberString}.50.png`,\n            anchor: new google.maps.Point(iw / 4, ih / 2 - 5),\n            size: new google.maps.Size(iw / 2, ih / 2),\n            scaledSize: new google.maps.Size(30, 40),\n          }}\n        />\n      );\n    });\n  };\n\n  labelClicked = (e) => {\n    if (e.nativeEvent.target.innerHTML === \"Climate Scoreâ„¢\") {\n      this.setState({\n        showAQI: false,\n      });\n    } else {\n      this.setState({\n        showAQI: true,\n        activeCSMarker: false,\n      });\n    }\n  };\n\n  mouseOut = (e) => {\n    this.setState({\n      showInfo: false,\n    });\n  };\n\n  onMarkerClick = (marker, e) => {\n    fetch(\n      `https://api.waqi.info/feed/geo:${marker.info.lat};${marker.info.lon}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n    )\n      .then((resp) => resp.json())\n      .then((data) => {\n        if (this.state.showUserLocations) {\n          this.setState({\n            data: data.data,\n            showUserLocations: false,\n          });\n        } else {\n          this.setState({\n            data: data.data,\n          });\n        }\n      });\n  };\n\n  onMarkerHover = (props, marker, e) => {\n    this.setState({\n      activeMarker: marker,\n      showInfo: true,\n    });\n  };\n\n  addLocation = () => {\n    if (this.state.data !== false) {\n      const newLocation = {\n        name: this.state.data.city.name,\n        user_id: this.props.auth.id,\n        lat: this.state.data.city.geo[0],\n        lng: this.state.data.city.geo[1],\n      };\n      const reqObj = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(newLocation),\n      };\n      fetch(\"http://localhost:3001/locations\", reqObj)\n        .then((resp) => resp.json())\n        .then((newLocation) => {\n          this.props.createLocationSuccess(newLocation);\n        });\n    }\n  };\n\n  goToLocation = (location) => {\n    this._map.map.setCenter({ lat: location.lat, lng: location.lng });\n    fetch(\n      `https://api.waqi.info/feed/geo:${location.lat};${location.lng}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n    )\n      .then((resp) => resp.json())\n      .then((data) => {\n        this.setState({\n          data: data.data,\n          showUserLocations: false,\n        });\n      });\n  };\n\n  showMyList = () => {\n    this.setState({\n      showUserLocations: true,\n    });\n  };\n\n  showStats = () => {\n    this.setState({\n      showUserLocations: false,\n    });\n  };\n\n  openModal = () => {\n    this.setState({\n      modalOpen: \"block\",\n    });\n  };\n  handleModalClose = () => {\n    this.setState({\n      modalOpen: \"none\",\n    });\n  };\n\n  render() {\n    let aqiColor;\n    if (this.state.data !== false && this.state.data.aqi <= 50) {\n      aqiColor = \"#c1ff7a\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 100) {\n      aqiColor = \"#ffff33\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 150) {\n      aqiColor = \"#ffc570\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 200) {\n      aqiColor = \"#f6685e\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 300) {\n      aqiColor = \"#ea80fc\";\n    } else {\n      aqiColor = \"#b2b9e1\";\n    }\n    let climColor;\n    if (\n      this.state.activeCSMarker !== false &&\n      this.state.activeCSMarker.score.ClimateScore <= 25\n    ) {\n      climColor = \"#c1ff7a\";\n    } else if (\n      this.state.activeCSMarker !== false &&\n      this.state.activeCSMarker.score.ClimateScore <= 50\n    ) {\n      climColor = \"#ffff33\";\n    } else {\n      climColor = \"#ffc570\";\n    }\n    let o3Data;\n    let uviData;\n    let pm10Data;\n    let pm25Data;\n    let days;\n    let hours;\n    let minutes;\n    let droughtData;\n    let fireData;\n    let seaData;\n    let stormData;\n    let tempData;\n    if (this.state.activeCSMarker) {\n      droughtData = {\n        datasets: [\n          {\n            data: [\n              this.state.activeCSMarker.score.DroughtScore,\n              100 - this.state.activeCSMarker.score.DroughtScore,\n            ],\n            backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n            hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          },\n        ],\n      };\n      fireData = {\n        datasets: [\n          {\n            data: [\n              this.state.activeCSMarker.score.FireScore,\n              100 - this.state.activeCSMarker.score.FireScore,\n            ],\n            backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n            hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          },\n        ],\n      };\n      seaData = {\n        datasets: [\n          {\n            data: [\n              this.state.activeCSMarker.score.SeaLevelScore,\n              100 - this.state.activeCSMarker.score.SeaLevelScore,\n            ],\n            backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n            hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          },\n        ],\n      };\n      stormData = {\n        datasets: [\n          {\n            data: [\n              this.state.activeCSMarker.score.StormScore,\n              100 - this.state.activeCSMarker.score.StormScore,\n            ],\n            backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n            hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          },\n        ],\n      };\n      tempData = {\n        datasets: [\n          {\n            data: [\n              this.state.activeCSMarker.score.TempScore,\n              100 - this.state.activeCSMarker.score.TempScore,\n            ],\n            backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n            hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          },\n        ],\n      };\n    }\n    if (this.state.data !== false) {\n      let now = new Date().getTime();\n      let newDate = new Date(this.state.data.time.iso).getTime();\n      let distance = newDate - now;\n      days = Math.floor(distance / (1000 * 60 * 60 * 24));\n      hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n      minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n      if (\n        this.state.data.forecast.daily !== undefined &&\n        \"o3\" in this.state.data.forecast.daily\n      ) {\n        let labelArr = [],\n          avgArr = [],\n          minArr = [],\n          maxArr = [];\n        for (let i = 0; i < this.state.data.forecast.daily.o3.length; i++) {\n          labelArr.push(\n            new Date(this.state.data.forecast.daily.o3[i].day)\n              .toString()\n              .substring(0, 10)\n          );\n          avgArr.push(this.state.data.forecast.daily.o3[i].avg);\n          minArr.push(this.state.data.forecast.daily.o3[i].min);\n          maxArr.push(this.state.data.forecast.daily.o3[i].max);\n        }\n        o3Data = {\n          labels: labelArr,\n          datasets: [\n            {\n              label: \"max\",\n              backgroundColor: \"#f7ff66\",\n              borderColor: \"#f7ff66\",\n              borderWidth: 0,\n              data: maxArr,\n              fill: \"1\",\n              radius: 1,\n            },\n            {\n              label: \"avg\",\n              backgroundColor: \"#4a9eff\",\n              borderColor: \"#4a9eff\",\n              borderWidth: 1,\n              data: avgArr,\n              fill: \"-1\",\n              line: false,\n              radius: 5,\n            },\n            {\n              label: \"min\",\n              backgroundColor: \"#87ff9f\",\n              borderColor: \"#87ff9f\",\n              borderWidth: 0,\n              data: minArr,\n              line: false,\n              fill: \"1\",\n              radius: 1,\n            },\n          ],\n        };\n      }\n      if (\n        this.state.data.forecast.daily !== undefined &&\n        \"pm10\" in this.state.data.forecast.daily\n      ) {\n        let labelArr = [],\n          avgArr = [],\n          minArr = [],\n          maxArr = [];\n        for (let i = 0; i < this.state.data.forecast.daily.pm10.length; i++) {\n          labelArr.push(\n            new Date(this.state.data.forecast.daily.pm10[i].day)\n              .toString()\n              .substring(0, 10)\n          );\n          avgArr.push(this.state.data.forecast.daily.pm10[i].avg);\n          minArr.push(this.state.data.forecast.daily.pm10[i].min);\n          maxArr.push(this.state.data.forecast.daily.pm10[i].max);\n        }\n        pm10Data = {\n          labels: labelArr,\n          datasets: [\n            {\n              label: \"max\",\n              backgroundColor: \"#f7ff66\",\n              borderColor: \"#f7ff66\",\n              borderWidth: 0,\n              data: maxArr,\n              fill: \"1\",\n              radius: 1,\n            },\n            {\n              label: \"avg\",\n              backgroundColor: \"#4a9eff\",\n              borderColor: \"#4a9eff\",\n              borderWidth: 1,\n              data: avgArr,\n              fill: \"-1\",\n              line: false,\n              radius: 5,\n            },\n            {\n              label: \"min\",\n              backgroundColor: \"#87ff9f\",\n              borderColor: \"#87ff9f\",\n              borderWidth: 0,\n              data: minArr,\n              line: false,\n              fill: \"1\",\n              radius: 1,\n            },\n          ],\n        };\n      }\n      if (\n        this.state.data.forecast.daily !== undefined &&\n        \"pm25\" in this.state.data.forecast.daily\n      ) {\n        let labelArr = [],\n          avgArr = [],\n          minArr = [],\n          maxArr = [];\n        for (let i = 0; i < this.state.data.forecast.daily.pm25.length; i++) {\n          labelArr.push(\n            new Date(this.state.data.forecast.daily.pm25[i].day)\n              .toString()\n              .substring(0, 10)\n          );\n          avgArr.push(this.state.data.forecast.daily.pm25[i].avg);\n          minArr.push(this.state.data.forecast.daily.pm25[i].min);\n          maxArr.push(this.state.data.forecast.daily.pm25[i].max);\n        }\n        pm25Data = {\n          labels: labelArr,\n          datasets: [\n            {\n              label: \"max\",\n              backgroundColor: \"#f7ff66\",\n              borderColor: \"#f7ff66\",\n              borderWidth: 0,\n              data: maxArr,\n              fill: \"1\",\n              radius: 1,\n            },\n            {\n              label: \"avg\",\n              backgroundColor: \"#4a9eff\",\n              borderColor: \"#4a9eff\",\n              borderWidth: 1,\n              data: avgArr,\n              fill: \"-1\",\n              line: false,\n              radius: 5,\n            },\n            {\n              label: \"min\",\n              backgroundColor: \"#87ff9f\",\n              borderColor: \"#87ff9f\",\n              borderWidth: 0,\n              data: minArr,\n              line: false,\n              fill: \"1\",\n              radius: 1,\n            },\n          ],\n        };\n      }\n      if (\n        this.state.data.forecast.daily !== undefined &&\n        \"uvi\" in this.state.data.forecast.daily\n      ) {\n        let labelArr = [],\n          avgArr = [],\n          minArr = [],\n          maxArr = [];\n        for (let i = 0; i < this.state.data.forecast.daily.uvi.length; i++) {\n          labelArr.push(\n            new Date(this.state.data.forecast.daily.uvi[i].day)\n              .toString()\n              .substring(0, 10)\n          );\n          avgArr.push(this.state.data.forecast.daily.uvi[i].avg);\n          minArr.push(this.state.data.forecast.daily.uvi[i].min);\n          maxArr.push(this.state.data.forecast.daily.uvi[i].max);\n        }\n        uviData = {\n          labels: labelArr,\n          datasets: [\n            {\n              label: \"max\",\n              backgroundColor: \"#f7ff66\",\n              borderColor: \"#f7ff66\",\n              borderWidth: 0,\n              data: maxArr,\n              fill: \"1\",\n              radius: 1,\n            },\n            {\n              label: \"avg\",\n              backgroundColor: \"#4a9eff\",\n              borderColor: \"#4a9eff\",\n              borderWidth: 1,\n              data: avgArr,\n              fill: \"-1\",\n              line: false,\n              radius: 5,\n            },\n            {\n              label: \"min\",\n              backgroundColor: \"#87ff9f\",\n              borderColor: \"#87ff9f\",\n              borderWidth: 0,\n              data: minArr,\n              line: false,\n              fill: \"1\",\n              radius: 1,\n            },\n          ],\n        };\n      }\n    }\n    const mapOptions = [\n      {\n        key: \"Climate Score\",\n        text: \"Climate Scoreâ„¢\",\n        value: \"Climate Score\",\n      },\n      {\n        key: \"Air Quality Index\",\n        text: \"Air Quality Index\",\n        value: \"Air Quality Index\",\n      },\n    ];\n    const darkTheme = createMuiTheme({\n      palette: {\n        type: \"dark\",\n      },\n    });\n    let saveDisabled;\n    if (\n      this.state.data !== false &&\n      this.props.locations !== [] &&\n      this.props.locations.some((loc) => loc.name === this.state.data.city.name)\n    ) {\n      saveDisabled = true;\n    } else {\n      saveDisabled = false;\n    }\n    let showAqiTable = this.state.modalOpen;\n    return (\n      <ThemeProvider theme={darkTheme}>\n        <div className=\"nav\">\n          <img\n            id=\"aqiTable\"\n            src={aqiTable}\n            alt=\"aqiTable\"\n            style={{ display: showAqiTable }}\n          ></img>\n          <Grid\n            container\n            direction=\"row\"\n            justify=\"flex-start\"\n            alignItems=\"flex-start\"\n            container\n            spacing={0}\n          >\n            <div className=\"search\">\n              <GooglePlacesAutocomplete\n                ref={(search) => (this._search = search)}\n                onSelect={this.handleSubmit}\n                inputStyle={{\n                  background: \"rgba(255, 255, 255, 0.3)\",\n                  color: \"#FFFFFF\",\n                  \"border-radius\": \"1px\",\n                }}\n                placeholder=\"ðŸ”Ž Search Anywhere!\"\n                suggestionsStyles={{\n                  background: \"none\",\n                  \"border-radius\": \"1px\",\n                }}\n              />\n            </div>\n            <Grid item xs={8}>\n              <div className=\"location\">\n                <Map\n                  ref={(map) => (this._map = map)}\n                  google={this.props.google}\n                  styles={this.state.mapStyle}\n                  disableDefaultUI={true}\n                  streetViewControl={true}\n                  zoomControl={true}\n                  mapTypeControl={true}\n                  mapTypeControlOptions={{\n                    position: this.props.google.maps.ControlPosition.TOP_CENTER,\n                  }}\n                  zoomControlOptions={{\n                    style: this.props.google.maps.ZoomControlStyle.DEFAUL,\n                    position: this.props.google.maps.ControlPosition\n                      .LEFT_CENTER,\n                  }}\n                  streetViewControlOptions={{\n                    position: this.props.google.maps.ControlPosition\n                      .LEFT_CENTER,\n                  }}\n                  onCenterChanged={() => {}}\n                  initialCenter={this.state.coords}\n                  center={this.state.coords}\n                  onClick={this.mapCLicked}\n                  zoom={14}\n                >\n                  <div className=\"filter\">\n                    <Dropdown\n                      closeOnChange\n                      inline\n                      options={mapOptions}\n                      onChange={this.labelClicked}\n                      defaultValue={mapOptions[1].value}\n                    />\n                  </div>\n                  {this.state.showAQI ? (\n                    <Markers\n                      onClick={this.onMarkerClick}\n                      onMouseover={this.mouseEnterHandler}\n                      onMouseout={this.mouseLeaveHandler}\n                    ></Markers>\n                  ) : null}\n                  {!this.state.showAQI ? this.renderClimateScores() : null}\n                  <InfoWindow\n                    marker={this.state.activeMarker}\n                    maxWidth={175}\n                    onMouseover={() => this.showInfo()}\n                    style={{ \"background-color\": \"#000000\" }}\n                    visible={this.state.showInfo}\n                  >\n                    <div>\n                      <h4>\n                        {this.state.showInfo\n                          ? this.state.activeMarker.info.station.name\n                          : null}{\" \"}\n                      </h4>\n                    </div>\n                  </InfoWindow>\n                </Map>\n              </div>\n            </Grid>\n            <Grid item xs={4}>\n              <div className=\"hello\">\n                {this.state.activeCSMarker ? (\n                  <Card\n                    variant=\"outlined\"\n                    style={{ maxHeight: 718, overflow: \"auto\" }}\n                  >\n                    <CardContent>\n                      <Typography\n                        variant=\"h4\"\n                        component=\"h2\"\n                        style={{ color: climColor }}\n                      >\n                        {this.state.activeCSMarker !== false\n                          ? \"Climate Score: \" +\n                            this.state.activeCSMarker.score.ClimateScore\n                          : null}\n                      </Typography>\n                      <Typography variant=\"h5\" component=\"h2\">\n                        {this.state.activeCSMarker !== false\n                          ? this.state.address\n                          : null}\n                      </Typography>\n                      <div class=\"clim-score\">\n                        <h1>{this.state.activeCSMarker.score.DroughtScore}</h1>\n                      </div>\n                      <Doughnut\n                        data={droughtData}\n                        options={{\n                          responsive: true,\n                          title: {\n                            display: true,\n                            text: \"Drought Score\",\n                            fontSize: 18,\n                            fontColor: \"#FFFFFF\",\n                          },\n                          legend: {\n                            display: false,\n                          },\n                        }}\n                      />\n                      <div class=\"clim-score\">\n                        <h1>{this.state.activeCSMarker.score.StormScore}</h1>\n                      </div>\n                      <Doughnut\n                        data={stormData}\n                        options={{\n                          responsive: true,\n                          title: {\n                            display: true,\n                            text: \"Storm Score\",\n                            fontSize: 18,\n                            fontColor: \"#FFFFFF\",\n                          },\n                          legend: {\n                            display: false,\n                          },\n                        }}\n                      />\n                      <div class=\"clim-score\">\n                        <h1>{this.state.activeCSMarker.score.TempScore}</h1>\n                      </div>\n                      <Doughnut\n                        data={tempData}\n                        options={{\n                          responsive: true,\n                          title: {\n                            display: true,\n                            text: \"Temperature Score\",\n                            fontSize: 18,\n                            fontColor: \"#FFFFFF\",\n                          },\n                          legend: {\n                            display: false,\n                          },\n                        }}\n                      />\n                      <div class=\"clim-score\">\n                        <h1>{this.state.activeCSMarker.score.FireScore}</h1>\n                      </div>\n                      <Doughnut\n                        data={fireData}\n                        options={{\n                          responsive: true,\n                          title: {\n                            display: true,\n                            text: \"Fire Score\",\n                            fontSize: 18,\n                            fontColor: \"#FFFFFF\",\n                          },\n                          legend: {\n                            display: false,\n                          },\n                        }}\n                      />\n                      <div class=\"clim-score\">\n                        <h1>{this.state.activeCSMarker.score.SeaLevelScore}</h1>\n                      </div>\n                      <Doughnut\n                        data={seaData}\n                        options={{\n                          responsive: true,\n                          title: {\n                            display: true,\n                            text: \"Sea Level Score\",\n                            fontSize: 18,\n                            fontColor: \"#FFFFFF\",\n                          },\n                          legend: {\n                            display: false,\n                          },\n                        }}\n                      />\n                    </CardContent>\n                  </Card>\n                ) : null}\n                {!this.state.showUserLocations && this.state.showAQI ? (\n                  <Card\n                    variant=\"outlined\"\n                    style={{ maxHeight: 718, overflow: \"auto\" }}\n                  >\n                    <CardContent>\n                      <div className=\"next2\">\n                        <IconButton\n                          className={\"go-and-back\"}\n                          onClick={this.showMyList}\n                          color=\"white\"\n                        >\n                          <ArrowForwardIosIcon />\n                        </IconButton>\n                      </div>\n                      <Typography\n                        variant=\"h5\"\n                        component=\"h2\"\n                        style={{ color: aqiColor }}\n                      >\n                        {this.state.data !== false\n                          ? \"Air Quality Index: \" + this.state.data.aqi\n                          : null}\n                        {this.state.data !== false ? (\n                          <span>\n                            {\" \"}\n                            <IconButton\n                              className={\"help-icon\"}\n                              onMouseOver={() => this.openModal()}\n                              onMouseOut={() => this.handleModalClose()}\n                              color=\"white\"\n                            >\n                              <HelpOutlineIcon\n                                style={{ color: \"rgba(255, 255, 255, 0.5)\" }}\n                              />\n                            </IconButton>\n                          </span>\n                        ) : null}\n                      </Typography>\n                      <Typography variant=\"h4\" component=\"h2\">\n                        {this.state.data !== false\n                          ? this.state.data.city.name\n                          : null}\n                      </Typography>\n                      <Typography color=\"textSecondary\">\n                        {this.state.data !== false\n                          ? +\"\" +\n                            -hours +\n                            \" hrs & \" +\n                            -minutes +\n                            \" mins ago - \" +\n                            this.state.data.time.s\n                          : null}\n                      </Typography>\n                      {this.state.data !== false &&\n                      this.state.data.forecast.daily !== undefined ? (\n                        <div>\n                          <Line\n                            data={o3Data}\n                            options={{\n                              responsive: true,\n                              scales: {\n                                yAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                                xAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                              },\n                              tooltips: {\n                                mode: \"index\",\n                                intersect: true,\n                                callbacks: {\n                                  label: function (tooltipItem) {\n                                    return (\n                                      Number(tooltipItem.yLabel) + \" Âµg/mÂ³\"\n                                    );\n                                  },\n                                },\n                                displayColors: true,\n                              },\n                              title: {\n                                display: true,\n                                text: \"Ozone (O3) Forecast\",\n                                fontSize: 12,\n                                fontColor: \"#FFFFFF\",\n                              },\n                              legend: {\n                                display: false,\n                                position: \"top\",\n                              },\n                            }}\n                          />\n                          <Line\n                            data={pm10Data}\n                            options={{\n                              responsive: true,\n                              scales: {\n                                yAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                                xAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                              },\n                              tooltips: {\n                                mode: \"index\",\n                                intersect: false,\n                                callbacks: {\n                                  label: function (tooltipItem) {\n                                    return (\n                                      Number(tooltipItem.yLabel) + \" Âµg/mÂ³\"\n                                    );\n                                  },\n                                },\n                                displayColors: true,\n                              },\n                              title: {\n                                display: true,\n                                text: \"Large Particles (pm10 Forecast)\",\n                                fontSize: 12,\n                                fontColor: \"#FFFFFF\",\n                              },\n                              legend: {\n                                display: false,\n                                position: \"top\",\n                              },\n                            }}\n                          />\n                          <Line\n                            data={pm25Data}\n                            options={{\n                              responsive: true,\n                              scales: {\n                                yAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                                xAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                              },\n                              tooltips: {\n                                mode: \"index\",\n                                intersect: false,\n                                callbacks: {\n                                  label: function (tooltipItem) {\n                                    return (\n                                      Number(tooltipItem.yLabel) + \" Âµg/mÂ³\"\n                                    );\n                                  },\n                                },\n                                displayColors: true,\n                              },\n                              title: {\n                                display: true,\n                                text: \"Small Particles (pm2.5 Forecast)\",\n                                fontSize: 12,\n                                fontColor: \"#FFFFFF\",\n                              },\n                              legend: {\n                                display: false,\n                                position: \"top\",\n                              },\n                            }}\n                          />\n                          <Line\n                            data={uviData}\n                            options={{\n                              responsive: true,\n                              scales: {\n                                yAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                                xAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                              },\n                              tooltips: {\n                                mode: \"index\",\n                                intersect: false,\n                                callbacks: {\n                                  label: function (tooltipItem) {\n                                    return Number(tooltipItem.yLabel) + \" UV\";\n                                  },\n                                },\n                                displayColors: true,\n                              },\n                              title: {\n                                display: true,\n                                text: \"Ultra Violet Index (UVI Forecast)\",\n                                fontSize: 12,\n                                fontColor: \"#FFFFFF\",\n                              },\n                              legend: {\n                                display: false,\n                                position: \"top\",\n                              },\n                            }}\n                          />\n                        </div>\n                      ) : (\n                        <div>\n                          <h1>Welcome to MyClimate.</h1>\n                          <h2>Click a location for details.</h2>\n                        </div>\n                      )}\n                    </CardContent>\n                    <CardActions>\n                      <div className=\"save\">\n                        {this.state.data !== false ? (\n                          <IconButton\n                            className={\"upload-icon\"}\n                            disabled={saveDisabled}\n                            onClick={this.addLocation}\n                          >\n                            <SaveAltIcon fontSize=\"large\" />\n                          </IconButton>\n                        ) : null}\n                      </div>\n                    </CardActions>\n                  </Card>\n                ) : null}\n                {this.state.showUserLocations ? (\n                  <Card\n                    variant=\"outlined\"\n                    style={{ maxHeight: 718, overflow: \"auto\" }}\n                  >\n                    <CardContent>\n                      <Typography vcolor=\"textSecondary\" gutterBottom>\n                        Saved Locations\n                      </Typography>\n                      <div className=\"next\">\n                        <IconButton\n                          onClick={this.showStats}\n                          className=\"go-and-back\"\n                          color=\"white\"\n                          aria-label=\"next\"\n                        >\n                          <ArrowBackIosIcon />\n                        </IconButton>\n                      </div>\n                      <UserLocations\n                        locations={this.state.myLocations}\n                        clicked={this.goToLocation}\n                      />\n                    </CardContent>\n                  </Card>\n                ) : null}\n              </div>\n            </Grid>\n          </Grid>\n        </div>\n      </ThemeProvider>\n    );\n  }\n}\ndocument.body.style = \"background: #424242;\";\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n    locations: state.locations,\n    stats: state.stats,\n  };\n};\n\nconst mapDispatchToProps = {\n  createLocationSuccess,\n};\n\nconst WrappedContainer = GoogleApiWrapper({\n  apiKey: \"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\",\n})(ClimateMap);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WrappedContainer);\n"]},"metadata":{},"sourceType":"module"}