{"ast":null,"code":"var _jsxFileName = \"/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/src/components/ClimateMap.js\";\nimport React, { Component } from \"react\";\nimport { GoogleApiWrapper, Map, Marker, InfoWindow } from \"google-maps-react\";\nimport GooglePlacesAutocomplete from \"react-google-places-autocomplete\";\nimport \"react-google-places-autocomplete/dist/index.min.css\";\nimport Geocode from \"react-geocode\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Dropdown } from \"semantic-ui-react\";\nimport mapStyles from \"./mapStyles\";\nimport Markers from \"./Markers\";\nimport { Line, Doughnut } from \"react-chartjs-2\";\nimport UserLocations from \"./UserLocations\";\nimport { createLocationSuccess } from \"../actions/location\";\nimport { connect } from \"react-redux\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SaveAltIcon from \"@material-ui/icons/SaveAlt\";\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\nimport aqiTable from \"../images/aqiTable.png\";\nexport class ClimateMap extends Component {\n  constructor() {\n    super();\n    this.state = {\n      searchText: \"\",\n      showClimateScore: false,\n      coords: {\n        lat: -23.304354,\n        lng: 151.916417\n      },\n      address: \"Wilson Island, Australia\",\n      allScores: false,\n      showAQI: true,\n      hoveredPinStat: {},\n      hoveredCoords: {\n        lat: \"\",\n        lng: \"\"\n      },\n      showInfo: true,\n      activeMarker: {},\n      activeCSMarker: false,\n      data: false,\n      markersRendered: false,\n      showUserLocations: false,\n      hovered: false,\n      myLocations: [],\n      saveDisabled: false,\n      modalOpen: \"none\",\n      mapStyle: null\n    };\n\n    this.mouseEnterHandler = (marker, e) => {\n      this.setState({\n        activeMarker: marker,\n        showInfo: true\n      });\n    };\n\n    this.mouseLeaveHandler = marker => {\n      this.setState({\n        hovered: false\n      });\n    };\n\n    this.onMarkerDragEnd = coord => {\n      const {\n        latLng\n      } = coord;\n      const newLat = latLng.lat();\n      const newLon = latLng.lng();\n      this._score.state.coords.lat = newLat;\n      this._score.state.coords.lng = newLon;\n\n      this._map.map.setCenter({\n        lat: newLat,\n        lng: newLon\n      });\n\n      Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");\n      Geocode.fromLatLng(newLat, newLon).then(response => {\n        const newAddress = response.results[0].formatted_address;\n        this._score.state.address = newAddress;\n      }, error => {\n        console.error(error);\n      });\n      fetch(`https://api.waqi.info/feed/geo:${newLat};${newLon}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`).then(resp => resp.json()).then(data => {\n        this._score.state.aqi = data.data.aqi;\n      });\n    };\n\n    this.handleSubmit = value => {\n      Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");\n      Geocode.fromAddress(`${value.description}`).then(response => {\n        const {\n          lat,\n          lng\n        } = response.results[0].geometry.location;\n        this.setState({\n          coords: {\n            lat: lat,\n            lng: lng\n          }\n        });\n\n        this._map.map.setCenter({\n          lat: lat,\n          lng: lng\n        });\n\n        this._search.clearValue();\n\n        fetch(`https://climate-score.p.rapidapi.com/${lat}/${lng}`, {\n          method: \"GET\",\n          headers: {\n            \"x-rapidapi-host\": \"climate-score.p.rapidapi.com\",\n            \"x-rapidapi-key\": \"c5855f8358mshe884588b34ae70ep1a1627jsn5e1e97c23a80\"\n          }\n        }).then(resp => resp.json()).then(data => {\n          this.setState({\n            allScores: {\n              ClimateScore: data.ClimateScore,\n              DroughtScore: data.DroughtScore,\n              FireScore: data.FireScore,\n              SeaLevelScore: data.SeaLevelScore,\n              StormScore: data.StormScore,\n              TempScore: data.TempScore\n            }\n          });\n        }).catch(err => {\n          this.setState({\n            allScores: false\n          });\n        });\n        Geocode.fromLatLng(lat, lng).then(response => {}, error => {\n          console.error(error);\n        });\n        fetch(`https://api.waqi.info/feed/geo:${lat};${lng}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`).then(resp => resp.json()).then(locationData => {\n          this.setState({\n            data: locationData.data\n          });\n        });\n      });\n    };\n\n    this.showClimateScore = marker => {\n      const newLat = marker.position.lat;\n      const newLon = marker.position.lng;\n      Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");\n      Geocode.fromLatLng(newLat, newLon).then(response => {\n        const newAddress = response.results[0].formatted_address;\n        this.setState({\n          address: newAddress,\n          activeCSMarker: marker\n        });\n      });\n    };\n\n    this.renderClimateScores = () => {\n      return this.props.climateScores.map(score => {\n        const numberString = score.ClimateScore.toString();\n        const google = this.props.google;\n        let iw = 83,\n            ih = 107;\n        return /*#__PURE__*/React.createElement(Marker, {\n          score: score,\n          onClick: this.showClimateScore,\n          position: {\n            lat: score.lat,\n            lng: score.lng\n          },\n          icon: {\n            url: `https://waqi.info/mapicon/${numberString}.50.png`,\n            anchor: new google.maps.Point(iw / 4, ih / 2 - 5),\n            size: new google.maps.Size(iw / 2, ih / 2),\n            scaledSize: new google.maps.Size(30, 40)\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 9\n          }\n        });\n      });\n    };\n\n    this.labelClicked = e => {\n      if (e.nativeEvent.target.innerHTML === \"Climate Score™\") {\n        this.setState({\n          showAQI: false\n        });\n      } else {\n        this.setState({\n          showAQI: true,\n          activeCSMarker: false\n        });\n      }\n    };\n\n    this.mouseOut = e => {\n      this.setState({\n        showInfo: false\n      });\n    };\n\n    this.onMarkerClick = (marker, e) => {\n      fetch(`https://api.waqi.info/feed/geo:${marker.info.lat};${marker.info.lon}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`).then(resp => resp.json()).then(data => {\n        if (this.state.showUserLocations) {\n          this.setState({\n            data: data.data,\n            showUserLocations: false\n          });\n        } else {\n          this.setState({\n            data: data.data\n          });\n        }\n      });\n    };\n\n    this.onMarkerHover = (props, marker, e) => {\n      this.setState({\n        activeMarker: marker,\n        showInfo: true\n      });\n    };\n\n    this.addLocation = () => {\n      if (this.props.auth === null || undefined) {\n        alert('You must be logged in to use this feature.');\n      } else if (this.state.data !== false) {\n        const newLocation = {\n          name: this.state.data.city.name,\n          user_id: this.props.auth.id,\n          lat: this.state.data.city.geo[0],\n          lng: this.state.data.city.geo[1]\n        };\n        const reqObj = {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(newLocation)\n        };\n        fetch(\"https://myclimate.herokuapp.com/locations\", reqObj).then(resp => resp.json()).then(newLocation => {\n          this.props.createLocationSuccess(newLocation);\n        });\n      }\n    };\n\n    this.goToLocation = location => {\n      this._map.map.setCenter({\n        lat: location.lat,\n        lng: location.lng\n      });\n\n      fetch(`https://api.waqi.info/feed/geo:${location.lat};${location.lng}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`).then(resp => resp.json()).then(data => {\n        this.setState({\n          data: data.data,\n          showUserLocations: false\n        });\n      });\n    };\n\n    this.showMyList = () => {\n      this.setState({\n        showUserLocations: true\n      });\n    };\n\n    this.showStats = () => {\n      this.setState({\n        showUserLocations: false\n      });\n    };\n\n    this.openModal = () => {\n      this.setState({\n        modalOpen: \"block\"\n      });\n    };\n\n    this.handleModalClose = () => {\n      this.setState({\n        modalOpen: \"none\"\n      });\n    };\n\n    this.timer = null;\n  }\n\n  // componentWillUnmount() {\n  //   this.clearTimer();\n  // }\n  // onTimeout = () => {\n  //   fetch(\n  //     `https://api.waqi.info/feed/geo:${this.state.activeMarker.info.lat};${this.state.activeMarker.info.lon}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n  //   )\n  //     .then((resp) => resp.json())\n  //     .then((data) => {\n  //       if (this.state.showUserLocations) {\n  //         this.setState({\n  //           data: data.data,\n  //           showUserLocations: false,\n  //         });\n  //       } else {\n  //         this.setState({\n  //           data: data.data,\n  //         });\n  //       }\n  //     });\n  // };\n  // clearTimer = () => {\n  //   clearTimeout(this.timer);\n  // };\n  // componentDidUpdate() {\n  //   if (this.state.hovered) {\n  //     this.timer = setTimeout(this.onTimeout, 500);\n  //   } else {\n  //     this.clearTimer();\n  //   }\n  // }\n  componentDidMount() {// navigator.geolocation.getCurrentPosition((position) => {\n    //   let lat = position.coords.latitude;\n    //   let lng = position.coords.longitude;\n    //   let currentLocation = { lat: lat, lng: lng };\n    //   this.setState({\n    //     coords: currentLocation,\n    //   });\n    // });\n  }\n\n  render() {\n    const searchLat = localStorage.getItem(\"searchLat\");\n    const searchLng = localStorage.getItem(\"searchLng\");\n    let searchCoords;\n\n    if (searchLat) {\n      searchCoords = {\n        lat: parseFloat(searchLat),\n        lng: parseFloat(searchLng)\n      };\n    } else {\n      searchCoords = this.state.coords;\n    }\n\n    let aqiColor;\n\n    if (this.state.data !== false && this.state.data.aqi <= 50) {\n      aqiColor = \"#c1ff7a\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 100) {\n      aqiColor = \"#ffff33\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 150) {\n      aqiColor = \"#ffc570\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 200) {\n      aqiColor = \"#f6685e\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 300) {\n      aqiColor = \"#ea80fc\";\n    } else {\n      aqiColor = \"#b2b9e1\";\n    }\n\n    let climColor;\n\n    if (this.state.activeCSMarker !== false && this.state.activeCSMarker.score.ClimateScore <= 25) {\n      climColor = \"#c1ff7a\";\n    } else if (this.state.activeCSMarker !== false && this.state.activeCSMarker.score.ClimateScore <= 50) {\n      climColor = \"#ffff33\";\n    } else {\n      climColor = \"#ffc570\";\n    }\n\n    let o3Data;\n    let uviData;\n    let pm10Data;\n    let pm25Data;\n    let days;\n    let hours;\n    let minutes;\n    let droughtData;\n    let fireData;\n    let seaData;\n    let stormData;\n    let tempData;\n\n    if (this.state.activeCSMarker) {\n      droughtData = {\n        datasets: [{\n          data: [this.state.activeCSMarker.score.DroughtScore, 100 - this.state.activeCSMarker.score.DroughtScore],\n          backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"]\n        }]\n      };\n      fireData = {\n        datasets: [{\n          data: [this.state.activeCSMarker.score.FireScore, 100 - this.state.activeCSMarker.score.FireScore],\n          backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"]\n        }]\n      };\n      seaData = {\n        datasets: [{\n          data: [this.state.activeCSMarker.score.SeaLevelScore, 100 - this.state.activeCSMarker.score.SeaLevelScore],\n          backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"]\n        }]\n      };\n      stormData = {\n        datasets: [{\n          data: [this.state.activeCSMarker.score.StormScore, 100 - this.state.activeCSMarker.score.StormScore],\n          backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"]\n        }]\n      };\n      tempData = {\n        datasets: [{\n          data: [this.state.activeCSMarker.score.TempScore, 100 - this.state.activeCSMarker.score.TempScore],\n          backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"]\n        }]\n      };\n    }\n\n    if (this.state.data !== false) {\n      let now = new Date().getTime();\n      let newDate = new Date(this.state.data.time.iso).getTime();\n      let distance = newDate - now;\n      days = Math.floor(distance / (1000 * 60 * 60 * 24));\n      hours = Math.floor(distance % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));\n      minutes = Math.floor(distance % (1000 * 60 * 60) / (1000 * 60));\n\n      if (this.state.data.forecast.daily !== undefined && \"o3\" in this.state.data.forecast.daily) {\n        let labelArr = [],\n            avgArr = [],\n            minArr = [],\n            maxArr = [];\n\n        for (let i = 0; i < this.state.data.forecast.daily.o3.length; i++) {\n          labelArr.push(new Date(this.state.data.forecast.daily.o3[i].day).toString().substring(0, 10));\n          avgArr.push(this.state.data.forecast.daily.o3[i].avg);\n          minArr.push(this.state.data.forecast.daily.o3[i].min);\n          maxArr.push(this.state.data.forecast.daily.o3[i].max);\n        }\n\n        o3Data = {\n          labels: labelArr,\n          datasets: [{\n            label: \"max\",\n            backgroundColor: \"#f7ff66\",\n            borderColor: \"#f7ff66\",\n            borderWidth: 0,\n            data: maxArr,\n            fill: \"1\",\n            radius: 1\n          }, {\n            label: \"avg\",\n            backgroundColor: \"#4a9eff\",\n            borderColor: \"#4a9eff\",\n            borderWidth: 1,\n            data: avgArr,\n            fill: \"-1\",\n            line: false,\n            radius: 5\n          }, {\n            label: \"min\",\n            backgroundColor: \"#87ff9f\",\n            borderColor: \"#87ff9f\",\n            borderWidth: 0,\n            data: minArr,\n            line: false,\n            fill: \"1\",\n            radius: 1\n          }]\n        };\n      }\n\n      if (this.state.data.forecast.daily !== undefined && \"pm10\" in this.state.data.forecast.daily) {\n        let labelArr = [],\n            avgArr = [],\n            minArr = [],\n            maxArr = [];\n\n        for (let i = 0; i < this.state.data.forecast.daily.pm10.length; i++) {\n          labelArr.push(new Date(this.state.data.forecast.daily.pm10[i].day).toString().substring(0, 10));\n          avgArr.push(this.state.data.forecast.daily.pm10[i].avg);\n          minArr.push(this.state.data.forecast.daily.pm10[i].min);\n          maxArr.push(this.state.data.forecast.daily.pm10[i].max);\n        }\n\n        pm10Data = {\n          labels: labelArr,\n          datasets: [{\n            label: \"max\",\n            backgroundColor: \"#f7ff66\",\n            borderColor: \"#f7ff66\",\n            borderWidth: 0,\n            data: maxArr,\n            fill: \"1\",\n            radius: 1\n          }, {\n            label: \"avg\",\n            backgroundColor: \"#4a9eff\",\n            borderColor: \"#4a9eff\",\n            borderWidth: 1,\n            data: avgArr,\n            fill: \"-1\",\n            line: false,\n            radius: 5\n          }, {\n            label: \"min\",\n            backgroundColor: \"#87ff9f\",\n            borderColor: \"#87ff9f\",\n            borderWidth: 0,\n            data: minArr,\n            line: false,\n            fill: \"1\",\n            radius: 1\n          }]\n        };\n      }\n\n      if (this.state.data.forecast.daily !== undefined && \"pm25\" in this.state.data.forecast.daily) {\n        let labelArr = [],\n            avgArr = [],\n            minArr = [],\n            maxArr = [];\n\n        for (let i = 0; i < this.state.data.forecast.daily.pm25.length; i++) {\n          labelArr.push(new Date(this.state.data.forecast.daily.pm25[i].day).toString().substring(0, 10));\n          avgArr.push(this.state.data.forecast.daily.pm25[i].avg);\n          minArr.push(this.state.data.forecast.daily.pm25[i].min);\n          maxArr.push(this.state.data.forecast.daily.pm25[i].max);\n        }\n\n        pm25Data = {\n          labels: labelArr,\n          datasets: [{\n            label: \"max\",\n            backgroundColor: \"#f7ff66\",\n            borderColor: \"#f7ff66\",\n            borderWidth: 0,\n            data: maxArr,\n            fill: \"1\",\n            radius: 1\n          }, {\n            label: \"avg\",\n            backgroundColor: \"#4a9eff\",\n            borderColor: \"#4a9eff\",\n            borderWidth: 1,\n            data: avgArr,\n            fill: \"-1\",\n            line: false,\n            radius: 5\n          }, {\n            label: \"min\",\n            backgroundColor: \"#87ff9f\",\n            borderColor: \"#87ff9f\",\n            borderWidth: 0,\n            data: minArr,\n            line: false,\n            fill: \"1\",\n            radius: 1\n          }]\n        };\n      }\n\n      if (this.state.data.forecast.daily !== undefined && \"uvi\" in this.state.data.forecast.daily) {\n        let labelArr = [],\n            avgArr = [],\n            minArr = [],\n            maxArr = [];\n\n        for (let i = 0; i < this.state.data.forecast.daily.uvi.length; i++) {\n          labelArr.push(new Date(this.state.data.forecast.daily.uvi[i].day).toString().substring(0, 10));\n          avgArr.push(this.state.data.forecast.daily.uvi[i].avg);\n          minArr.push(this.state.data.forecast.daily.uvi[i].min);\n          maxArr.push(this.state.data.forecast.daily.uvi[i].max);\n        }\n\n        uviData = {\n          labels: labelArr,\n          datasets: [{\n            label: \"max\",\n            backgroundColor: \"#f7ff66\",\n            borderColor: \"#f7ff66\",\n            borderWidth: 0,\n            data: maxArr,\n            fill: \"1\",\n            radius: 1\n          }, {\n            label: \"avg\",\n            backgroundColor: \"#4a9eff\",\n            borderColor: \"#4a9eff\",\n            borderWidth: 1,\n            data: avgArr,\n            fill: \"-1\",\n            line: false,\n            radius: 5\n          }, {\n            label: \"min\",\n            backgroundColor: \"#87ff9f\",\n            borderColor: \"#87ff9f\",\n            borderWidth: 0,\n            data: minArr,\n            line: false,\n            fill: \"1\",\n            radius: 1\n          }]\n        };\n      }\n    }\n\n    const mapOptions = [{\n      key: \"Climate Score\",\n      text: \"Climate Score™\",\n      value: \"Climate Score\"\n    }, {\n      key: \"Air Quality Index\",\n      text: \"Air Quality Index\",\n      value: \"Air Quality Index\"\n    }];\n    const darkTheme = createMuiTheme({\n      palette: {\n        type: \"dark\"\n      }\n    });\n    let saveDisabled;\n\n    if (this.state.data !== false && this.props.locations !== [] && this.props.locations.some(loc => loc.name === this.state.data.city.name)) {\n      saveDisabled = true;\n    } else {\n      saveDisabled = false;\n    }\n\n    let showAqiTable = this.state.modalOpen;\n    return /*#__PURE__*/React.createElement(ThemeProvider, {\n      theme: darkTheme,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: \"aqiTable\",\n      src: aqiTable,\n      alt: \"aqiTable\",\n      style: {\n        display: showAqiTable\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"flex-start\",\n      alignItems: \"flex-start\",\n      container: true,\n      spacing: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 715,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(GooglePlacesAutocomplete, {\n      ref: search => this._search = search,\n      onSelect: this.handleSubmit,\n      inputStyle: {\n        background: \"rgba(0, 0, 0, 0.3)\",\n        color: \"#FFFFFF\",\n        \"border-radius\": \"1px\"\n      },\n      placeholder: \"\\uD83D\\uDD0E Search\",\n      suggestionsStyles: {\n        background: \"none\",\n        \"border-radius\": \"1px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 716,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 731,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"location\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 732,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Map, {\n      ref: map => this._map = map,\n      google: this.props.google,\n      styles: this.state.mapStyle,\n      disableDefaultUI: true,\n      streetViewControl: true,\n      zoomControl: true,\n      mapTypeControl: true,\n      mapTypeControlOptions: {\n        position: this.props.google.maps.ControlPosition.TOP_CENTER\n      },\n      zoomControlOptions: {\n        style: this.props.google.maps.ZoomControlStyle.DEFAUL,\n        position: this.props.google.maps.ControlPosition.LEFT_CENTER\n      },\n      streetViewControlOptions: {\n        position: this.props.google.maps.ControlPosition.LEFT_CENTER\n      },\n      initialCenter: searchCoords,\n      center: this.state.coords,\n      zoom: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 733,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 757,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      closeOnChange: true,\n      inline: true,\n      options: mapOptions,\n      onChange: this.labelClicked,\n      defaultValue: mapOptions[1].value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 758,\n        columnNumber: 21\n      }\n    })), this.state.showAQI ? /*#__PURE__*/React.createElement(Markers, {\n      onClick: this.onMarkerClick,\n      onMouseover: this.mouseEnterHandler,\n      onMouseout: this.mouseLeaveHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 767,\n        columnNumber: 21\n      }\n    }) : null, !this.state.showAQI ? this.renderClimateScores() : null, /*#__PURE__*/React.createElement(InfoWindow, {\n      marker: this.state.activeMarker,\n      maxWidth: 175,\n      onMouseover: () => this.showInfo(),\n      style: {\n        \"background-color\": \"#000000\"\n      },\n      visible: this.state.hovered,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 774,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 781,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 782,\n        columnNumber: 23\n      }\n    }, this.state.hovered ? this.state.activeMarker.info.station.name : 'Welcome!')))))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 792,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hello\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 793,\n        columnNumber: 15\n      }\n    }, this.state.activeCSMarker ? /*#__PURE__*/React.createElement(Card, {\n      variant: \"outlined\",\n      className: 'detail-card',\n      style: {\n        overflow: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 795,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 800,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h4\",\n      component: \"h2\",\n      style: {\n        color: climColor\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 801,\n        columnNumber: 23\n      }\n    }, this.state.activeCSMarker !== false ? \"Climate Score: \" + this.state.activeCSMarker.score.ClimateScore : null), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h5\",\n      component: \"h2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 811,\n        columnNumber: 23\n      }\n    }, this.state.activeCSMarker !== false ? this.state.address : null), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"clim-score\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 816,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 817,\n        columnNumber: 25\n      }\n    }, this.state.activeCSMarker.score.DroughtScore)), /*#__PURE__*/React.createElement(Doughnut, {\n      data: droughtData,\n      options: {\n        responsive: true,\n        title: {\n          display: true,\n          text: \"Drought Score\",\n          fontSize: 18,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 819,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"clim-score\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 834,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 835,\n        columnNumber: 25\n      }\n    }, this.state.activeCSMarker.score.StormScore)), /*#__PURE__*/React.createElement(Doughnut, {\n      data: stormData,\n      options: {\n        responsive: true,\n        title: {\n          display: true,\n          text: \"Storm Score\",\n          fontSize: 18,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 837,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"clim-score\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 852,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 853,\n        columnNumber: 25\n      }\n    }, this.state.activeCSMarker.score.TempScore)), /*#__PURE__*/React.createElement(Doughnut, {\n      data: tempData,\n      options: {\n        responsive: true,\n        title: {\n          display: true,\n          text: \"Temperature Score\",\n          fontSize: 18,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 855,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"clim-score\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 870,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 871,\n        columnNumber: 25\n      }\n    }, this.state.activeCSMarker.score.FireScore)), /*#__PURE__*/React.createElement(Doughnut, {\n      data: fireData,\n      options: {\n        responsive: true,\n        title: {\n          display: true,\n          text: \"Fire Score\",\n          fontSize: 18,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 873,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"clim-score\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 888,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 889,\n        columnNumber: 25\n      }\n    }, this.state.activeCSMarker.score.SeaLevelScore)), /*#__PURE__*/React.createElement(Doughnut, {\n      data: seaData,\n      options: {\n        responsive: true,\n        title: {\n          display: true,\n          text: \"Sea Level Score\",\n          fontSize: 18,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 891,\n        columnNumber: 23\n      }\n    }))) : null, !this.state.showUserLocations && this.state.showAQI ? /*#__PURE__*/React.createElement(Card, {\n      className: 'detail-card',\n      variant: \"outlined\",\n      style: {\n        overflow: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 910,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 915,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"next2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 916,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      className: \"go-and-back\",\n      onClick: this.showMyList,\n      color: \"white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 917,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ArrowForwardIosIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 922,\n        columnNumber: 27\n      }\n    }))), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h5\",\n      component: \"h2\",\n      style: {\n        color: aqiColor\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 925,\n        columnNumber: 23\n      }\n    }, this.state.data !== false ? \"Air Quality Index: \" + this.state.data.aqi : null, this.state.data !== false ? /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 934,\n        columnNumber: 27\n      }\n    }, \" \", /*#__PURE__*/React.createElement(IconButton, {\n      className: \"help-icon\",\n      onMouseOver: () => this.openModal(),\n      onMouseOut: () => this.handleModalClose(),\n      color: \"white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 936,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(HelpOutlineIcon, {\n      style: {\n        color: \"rgba(255, 255, 255, 0.5)\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 942,\n        columnNumber: 31\n      }\n    }))) : null), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h4\",\n      component: \"h2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 949,\n        columnNumber: 23\n      }\n    }, this.state.data !== false ? this.state.data.city.name : null), /*#__PURE__*/React.createElement(Typography, {\n      color: \"textSecondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 954,\n        columnNumber: 23\n      }\n    }, this.state.data !== false ? +\"\" + -hours + \" hrs & \" + -minutes + \" mins ago - \" + this.state.data.time.s : null), this.state.data !== false && this.state.data.forecast.daily !== undefined ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 966,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Line, {\n      data: o3Data,\n      options: {\n        responsive: true,\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true,\n              fontColor: \"white\"\n            }\n          }],\n          xAxes: [{\n            ticks: {\n              beginAtZero: true,\n              fontColor: \"white\"\n            }\n          }]\n        },\n        tooltips: {\n          mode: \"index\",\n          intersect: true,\n          callbacks: {\n            label: function (tooltipItem) {\n              return Number(tooltipItem.yLabel) + \" µg/m³\";\n            }\n          },\n          displayColors: true\n        },\n        title: {\n          display: true,\n          text: \"Ozone (O3) Forecast\",\n          fontSize: 12,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: true,\n          position: \"top\",\n          fontColor: \"#FFFFFF\"\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 967,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(Line, {\n      data: pm10Data,\n      options: {\n        responsive: true,\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true,\n              fontColor: \"white\"\n            }\n          }],\n          xAxes: [{\n            ticks: {\n              beginAtZero: true,\n              fontColor: \"white\"\n            }\n          }]\n        },\n        tooltips: {\n          mode: \"index\",\n          intersect: false,\n          callbacks: {\n            label: function (tooltipItem) {\n              return Number(tooltipItem.yLabel) + \" µg/m³\";\n            }\n          },\n          displayColors: true\n        },\n        title: {\n          display: true,\n          text: \"Large Particles (pm10 Forecast)\",\n          fontSize: 12,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false,\n          position: \"top\"\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1014,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(Line, {\n      data: pm25Data,\n      options: {\n        responsive: true,\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true,\n              fontColor: \"white\"\n            }\n          }],\n          xAxes: [{\n            ticks: {\n              beginAtZero: true,\n              fontColor: \"white\"\n            }\n          }]\n        },\n        tooltips: {\n          mode: \"index\",\n          intersect: false,\n          callbacks: {\n            label: function (tooltipItem) {\n              return Number(tooltipItem.yLabel) + \" µg/m³\";\n            }\n          },\n          displayColors: true\n        },\n        title: {\n          display: true,\n          text: \"Small Particles (pm2.5 Forecast)\",\n          fontSize: 12,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false,\n          position: \"top\"\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1060,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(Line, {\n      data: uviData,\n      options: {\n        responsive: true,\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true,\n              fontColor: \"white\"\n            }\n          }],\n          xAxes: [{\n            ticks: {\n              beginAtZero: true,\n              fontColor: \"white\"\n            }\n          }]\n        },\n        tooltips: {\n          mode: \"index\",\n          intersect: false,\n          callbacks: {\n            label: function (tooltipItem) {\n              return Number(tooltipItem.yLabel) + \" UV\";\n            }\n          },\n          displayColors: true\n        },\n        title: {\n          display: true,\n          text: \"Ultra Violet Index (UVI Forecast)\",\n          fontSize: 12,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false,\n          position: \"top\"\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1106,\n        columnNumber: 27\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1152,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1153,\n        columnNumber: 27\n      }\n    }, \"Welcome!\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1154,\n        columnNumber: 27\n      }\n    }, \"To use this app, click any pin on the map to view detailed information about that location.\"))), /*#__PURE__*/React.createElement(CardActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1158,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"save\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1159,\n        columnNumber: 23\n      }\n    }, this.state.data !== false ? /*#__PURE__*/React.createElement(IconButton, {\n      className: \"upload-icon\",\n      disabled: saveDisabled,\n      onClick: this.addLocation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1161,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(SaveAltIcon, {\n      fontSize: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1166,\n        columnNumber: 29\n      }\n    })) : null))) : null, this.state.showUserLocations ? /*#__PURE__*/React.createElement(Card, {\n      className: \"detail-card\",\n      variant: \"outlined\",\n      style: {\n        overflow: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1174,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1179,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      vcolor: \"textSecondary\",\n      gutterBottom: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1180,\n        columnNumber: 23\n      }\n    }, \"Saved Locations\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"next\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1183,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: this.showStats,\n      className: \"go-and-back\",\n      color: \"white\",\n      \"aria-label\": \"next\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1184,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ArrowBackIosIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1190,\n        columnNumber: 27\n      }\n    }))), /*#__PURE__*/React.createElement(UserLocations, {\n      locations: this.state.myLocations,\n      clicked: this.goToLocation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1193,\n        columnNumber: 23\n      }\n    }))) : null)))));\n  }\n\n}\ndocument.body.style = \"background: #424242;\";\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    locations: state.locations,\n    stats: state.stats\n  };\n};\n\nconst mapDispatchToProps = {\n  createLocationSuccess\n};\nconst WrappedContainer = GoogleApiWrapper({\n  apiKey: \"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\"\n})(ClimateMap);\nexport default connect(mapStateToProps, mapDispatchToProps)(WrappedContainer);","map":{"version":3,"sources":["/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/src/components/ClimateMap.js"],"names":["React","Component","GoogleApiWrapper","Map","Marker","InfoWindow","GooglePlacesAutocomplete","Geocode","Grid","Dropdown","mapStyles","Markers","Line","Doughnut","UserLocations","createLocationSuccess","connect","Card","CardActions","CardContent","Typography","createMuiTheme","ThemeProvider","ArrowForwardIosIcon","ArrowBackIosIcon","IconButton","SaveAltIcon","HelpOutlineIcon","aqiTable","ClimateMap","constructor","state","searchText","showClimateScore","coords","lat","lng","address","allScores","showAQI","hoveredPinStat","hoveredCoords","showInfo","activeMarker","activeCSMarker","data","markersRendered","showUserLocations","hovered","myLocations","saveDisabled","modalOpen","mapStyle","mouseEnterHandler","marker","e","setState","mouseLeaveHandler","onMarkerDragEnd","coord","latLng","newLat","newLon","_score","_map","map","setCenter","setApiKey","fromLatLng","then","response","newAddress","results","formatted_address","error","console","fetch","resp","json","aqi","handleSubmit","value","fromAddress","description","geometry","location","_search","clearValue","method","headers","ClimateScore","DroughtScore","FireScore","SeaLevelScore","StormScore","TempScore","catch","err","locationData","position","renderClimateScores","props","climateScores","score","numberString","toString","google","iw","ih","url","anchor","maps","Point","size","Size","scaledSize","labelClicked","nativeEvent","target","innerHTML","mouseOut","onMarkerClick","info","lon","onMarkerHover","addLocation","auth","undefined","alert","newLocation","name","city","user_id","id","geo","reqObj","body","JSON","stringify","goToLocation","showMyList","showStats","openModal","handleModalClose","timer","componentDidMount","render","searchLat","localStorage","getItem","searchLng","searchCoords","parseFloat","aqiColor","climColor","o3Data","uviData","pm10Data","pm25Data","days","hours","minutes","droughtData","fireData","seaData","stormData","tempData","datasets","backgroundColor","hoverBackgroundColor","now","Date","getTime","newDate","time","iso","distance","Math","floor","forecast","daily","labelArr","avgArr","minArr","maxArr","i","o3","length","push","day","substring","avg","min","max","labels","label","borderColor","borderWidth","fill","radius","line","pm10","pm25","uvi","mapOptions","key","text","darkTheme","palette","type","locations","some","loc","showAqiTable","display","search","background","color","ControlPosition","TOP_CENTER","style","ZoomControlStyle","DEFAUL","LEFT_CENTER","station","overflow","responsive","title","fontSize","fontColor","legend","s","scales","yAxes","ticks","beginAtZero","xAxes","tooltips","mode","intersect","callbacks","tooltipItem","Number","yLabel","displayColors","document","mapStateToProps","stats","mapDispatchToProps","WrappedContainer","apiKey"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,gBAAT,EAA2BC,GAA3B,EAAgCC,MAAhC,EAAwCC,UAAxC,QAA0D,mBAA1D;AACA,OAAOC,wBAAP,MAAqC,kCAArC;AACA,OAAO,qDAAP;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,iBAA/B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAASC,qBAAT,QAAsC,qBAAtC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,SAASC,cAAT,QAA+B,0BAA/B;AACA,SAASC,aAAT,QAA8B,qBAA9B;AACA,OAAOC,mBAAP,MAAgC,oCAAhC;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,QAAP,MAAqB,wBAArB;AAEA,OAAO,MAAMC,UAAN,SAAyB5B,SAAzB,CAAmC;AACxC6B,EAAAA,WAAW,GAAG;AACZ;AADY,SAIdC,KAJc,GAIN;AACNC,MAAAA,UAAU,EAAE,EADN;AAENC,MAAAA,gBAAgB,EAAE,KAFZ;AAGNC,MAAAA,MAAM,EAAE;AACNC,QAAAA,GAAG,EAAE,CAAC,SADA;AAENC,QAAAA,GAAG,EAAE;AAFC,OAHF;AAONC,MAAAA,OAAO,EAAE,0BAPH;AAQNC,MAAAA,SAAS,EAAE,KARL;AASNC,MAAAA,OAAO,EAAE,IATH;AAUNC,MAAAA,cAAc,EAAE,EAVV;AAWNC,MAAAA,aAAa,EAAE;AACbN,QAAAA,GAAG,EAAE,EADQ;AAEbC,QAAAA,GAAG,EAAE;AAFQ,OAXT;AAeNM,MAAAA,QAAQ,EAAE,IAfJ;AAgBNC,MAAAA,YAAY,EAAE,EAhBR;AAiBNC,MAAAA,cAAc,EAAE,KAjBV;AAkBNC,MAAAA,IAAI,EAAE,KAlBA;AAmBNC,MAAAA,eAAe,EAAE,KAnBX;AAoBNC,MAAAA,iBAAiB,EAAE,KApBb;AAqBNC,MAAAA,OAAO,EAAE,KArBH;AAsBNC,MAAAA,WAAW,EAAE,EAtBP;AAuBNC,MAAAA,YAAY,EAAE,KAvBR;AAwBNC,MAAAA,SAAS,EAAE,MAxBL;AAyBNC,MAAAA,QAAQ,EAAE;AAzBJ,KAJM;;AAAA,SAgCdC,iBAhCc,GAgCM,CAACC,MAAD,EAASC,CAAT,KAAe;AACjC,WAAKC,QAAL,CAAc;AAAEb,QAAAA,YAAY,EAAEW,MAAhB;AAAwBZ,QAAAA,QAAQ,EAAE;AAAlC,OAAd;AACD,KAlCa;;AAAA,SAoCde,iBApCc,GAoCOH,MAAD,IAAY;AAC9B,WAAKE,QAAL,CAAc;AAAER,QAAAA,OAAO,EAAE;AAAX,OAAd;AACD,KAtCa;;AAAA,SAsFdU,eAtFc,GAsFKC,KAAD,IAAW;AAC3B,YAAM;AAAEC,QAAAA;AAAF,UAAaD,KAAnB;AACA,YAAME,MAAM,GAAGD,MAAM,CAACzB,GAAP,EAAf;AACA,YAAM2B,MAAM,GAAGF,MAAM,CAACxB,GAAP,EAAf;AACA,WAAK2B,MAAL,CAAYhC,KAAZ,CAAkBG,MAAlB,CAAyBC,GAAzB,GAA+B0B,MAA/B;AACA,WAAKE,MAAL,CAAYhC,KAAZ,CAAkBG,MAAlB,CAAyBE,GAAzB,GAA+B0B,MAA/B;;AACA,WAAKE,IAAL,CAAUC,GAAV,CAAcC,SAAd,CAAwB;AAAE/B,QAAAA,GAAG,EAAE0B,MAAP;AAAezB,QAAAA,GAAG,EAAE0B;AAApB,OAAxB;;AACAvD,MAAAA,OAAO,CAAC4D,SAAR,CAAkB,yCAAlB;AACA5D,MAAAA,OAAO,CAAC6D,UAAR,CAAmBP,MAAnB,EAA2BC,MAA3B,EAAmCO,IAAnC,CACGC,QAAD,IAAc;AACZ,cAAMC,UAAU,GAAGD,QAAQ,CAACE,OAAT,CAAiB,CAAjB,EAAoBC,iBAAvC;AACA,aAAKV,MAAL,CAAYhC,KAAZ,CAAkBM,OAAlB,GAA4BkC,UAA5B;AACD,OAJH,EAKGG,KAAD,IAAW;AACTC,QAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD,OAPH;AASAE,MAAAA,KAAK,CACF,kCAAiCf,MAAO,IAAGC,MAAO,kDADhD,CAAL,CAGGO,IAHH,CAGSQ,IAAD,IAAUA,IAAI,CAACC,IAAL,EAHlB,EAIGT,IAJH,CAISxB,IAAD,IAAU;AACd,aAAKkB,MAAL,CAAYhC,KAAZ,CAAkBgD,GAAlB,GAAwBlC,IAAI,CAACA,IAAL,CAAUkC,GAAlC;AACD,OANH;AAOD,KA9Ga;;AAAA,SAgHdC,YAhHc,GAgHEC,KAAD,IAAW;AACxB1E,MAAAA,OAAO,CAAC4D,SAAR,CAAkB,yCAAlB;AACA5D,MAAAA,OAAO,CAAC2E,WAAR,CAAqB,GAAED,KAAK,CAACE,WAAY,EAAzC,EAA4Cd,IAA5C,CAAkDC,QAAD,IAAc;AAC7D,cAAM;AAAEnC,UAAAA,GAAF;AAAOC,UAAAA;AAAP,YAAekC,QAAQ,CAACE,OAAT,CAAiB,CAAjB,EAAoBY,QAApB,CAA6BC,QAAlD;AAEA,aAAK7B,QAAL,CAAc;AACZtB,UAAAA,MAAM,EAAE;AACNC,YAAAA,GAAG,EAAEA,GADC;AAENC,YAAAA,GAAG,EAAEA;AAFC;AADI,SAAd;;AAMA,aAAK4B,IAAL,CAAUC,GAAV,CAAcC,SAAd,CAAwB;AAAE/B,UAAAA,GAAG,EAAEA,GAAP;AAAYC,UAAAA,GAAG,EAAEA;AAAjB,SAAxB;;AACA,aAAKkD,OAAL,CAAaC,UAAb;;AACAX,QAAAA,KAAK,CAAE,wCAAuCzC,GAAI,IAAGC,GAAI,EAApD,EAAuD;AAC1DoD,UAAAA,MAAM,EAAE,KADkD;AAE1DC,UAAAA,OAAO,EAAE;AACP,+BAAmB,8BADZ;AAEP,8BACE;AAHK;AAFiD,SAAvD,CAAL,CAQGpB,IARH,CAQSQ,IAAD,IAAUA,IAAI,CAACC,IAAL,EARlB,EASGT,IATH,CASSxB,IAAD,IAAU;AACd,eAAKW,QAAL,CAAc;AACZlB,YAAAA,SAAS,EAAE;AACToD,cAAAA,YAAY,EAAE7C,IAAI,CAAC6C,YADV;AAETC,cAAAA,YAAY,EAAE9C,IAAI,CAAC8C,YAFV;AAGTC,cAAAA,SAAS,EAAE/C,IAAI,CAAC+C,SAHP;AAITC,cAAAA,aAAa,EAAEhD,IAAI,CAACgD,aAJX;AAKTC,cAAAA,UAAU,EAAEjD,IAAI,CAACiD,UALR;AAMTC,cAAAA,SAAS,EAAElD,IAAI,CAACkD;AANP;AADC,WAAd;AAUD,SApBH,EAqBGC,KArBH,CAqBUC,GAAD,IAAS;AACd,eAAKzC,QAAL,CAAc;AACZlB,YAAAA,SAAS,EAAE;AADC,WAAd;AAGD,SAzBH;AA0BA/B,QAAAA,OAAO,CAAC6D,UAAR,CAAmBjC,GAAnB,EAAwBC,GAAxB,EAA6BiC,IAA7B,CACGC,QAAD,IAAc,CAAE,CADlB,EAEGI,KAAD,IAAW;AACTC,UAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD,SAJH;AAMAE,QAAAA,KAAK,CACF,kCAAiCzC,GAAI,IAAGC,GAAI,kDAD1C,CAAL,CAGGiC,IAHH,CAGSQ,IAAD,IAAUA,IAAI,CAACC,IAAL,EAHlB,EAIGT,IAJH,CAIS6B,YAAD,IAAkB;AACtB,eAAK1C,QAAL,CAAc;AACZX,YAAAA,IAAI,EAAEqD,YAAY,CAACrD;AADP,WAAd;AAGD,SARH;AASD,OApDD;AAqDD,KAvKa;;AAAA,SAyKdZ,gBAzKc,GAyKMqB,MAAD,IAAY;AAC7B,YAAMO,MAAM,GAAGP,MAAM,CAAC6C,QAAP,CAAgBhE,GAA/B;AACA,YAAM2B,MAAM,GAAGR,MAAM,CAAC6C,QAAP,CAAgB/D,GAA/B;AACA7B,MAAAA,OAAO,CAAC4D,SAAR,CAAkB,yCAAlB;AACA5D,MAAAA,OAAO,CAAC6D,UAAR,CAAmBP,MAAnB,EAA2BC,MAA3B,EAAmCO,IAAnC,CAAyCC,QAAD,IAAc;AACpD,cAAMC,UAAU,GAAGD,QAAQ,CAACE,OAAT,CAAiB,CAAjB,EAAoBC,iBAAvC;AACA,aAAKjB,QAAL,CAAc;AACZnB,UAAAA,OAAO,EAAEkC,UADG;AAEZ3B,UAAAA,cAAc,EAAEU;AAFJ,SAAd;AAID,OAND;AAOD,KApLa;;AAAA,SAsLd8C,mBAtLc,GAsLQ,MAAM;AAC1B,aAAO,KAAKC,KAAL,CAAWC,aAAX,CAAyBrC,GAAzB,CAA8BsC,KAAD,IAAW;AAC7C,cAAMC,YAAY,GAAGD,KAAK,CAACb,YAAN,CAAmBe,QAAnB,EAArB;AACA,cAAMC,MAAM,GAAG,KAAKL,KAAL,CAAWK,MAA1B;AACA,YAAIC,EAAE,GAAG,EAAT;AAAA,YACEC,EAAE,GAAG,GADP;AAEA,4BACE,oBAAC,MAAD;AACE,UAAA,KAAK,EAAEL,KADT;AAEE,UAAA,OAAO,EAAE,KAAKtE,gBAFhB;AAGE,UAAA,QAAQ,EAAE;AAAEE,YAAAA,GAAG,EAAEoE,KAAK,CAACpE,GAAb;AAAkBC,YAAAA,GAAG,EAAEmE,KAAK,CAACnE;AAA7B,WAHZ;AAIE,UAAA,IAAI,EAAE;AACJyE,YAAAA,GAAG,EAAG,6BAA4BL,YAAa,SAD3C;AAEJM,YAAAA,MAAM,EAAE,IAAIJ,MAAM,CAACK,IAAP,CAAYC,KAAhB,CAAsBL,EAAE,GAAG,CAA3B,EAA8BC,EAAE,GAAG,CAAL,GAAS,CAAvC,CAFJ;AAGJK,YAAAA,IAAI,EAAE,IAAIP,MAAM,CAACK,IAAP,CAAYG,IAAhB,CAAqBP,EAAE,GAAG,CAA1B,EAA6BC,EAAE,GAAG,CAAlC,CAHF;AAIJO,YAAAA,UAAU,EAAE,IAAIT,MAAM,CAACK,IAAP,CAAYG,IAAhB,CAAqB,EAArB,EAAyB,EAAzB;AAJR,WAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAaD,OAlBM,CAAP;AAmBD,KA1Ma;;AAAA,SA4MdE,YA5Mc,GA4ME7D,CAAD,IAAO;AACpB,UAAIA,CAAC,CAAC8D,WAAF,CAAcC,MAAd,CAAqBC,SAArB,KAAmC,gBAAvC,EAAyD;AACvD,aAAK/D,QAAL,CAAc;AACZjB,UAAAA,OAAO,EAAE;AADG,SAAd;AAGD,OAJD,MAIO;AACL,aAAKiB,QAAL,CAAc;AACZjB,UAAAA,OAAO,EAAE,IADG;AAEZK,UAAAA,cAAc,EAAE;AAFJ,SAAd;AAID;AACF,KAvNa;;AAAA,SAyNd4E,QAzNc,GAyNFjE,CAAD,IAAO;AAChB,WAAKC,QAAL,CAAc;AACZd,QAAAA,QAAQ,EAAE;AADE,OAAd;AAGD,KA7Na;;AAAA,SA+Nd+E,aA/Nc,GA+NE,CAACnE,MAAD,EAASC,CAAT,KAAe;AAC7BqB,MAAAA,KAAK,CACF,kCAAiCtB,MAAM,CAACoE,IAAP,CAAYvF,GAAI,IAAGmB,MAAM,CAACoE,IAAP,CAAYC,GAAI,kDADlE,CAAL,CAGGtD,IAHH,CAGSQ,IAAD,IAAUA,IAAI,CAACC,IAAL,EAHlB,EAIGT,IAJH,CAISxB,IAAD,IAAU;AACd,YAAI,KAAKd,KAAL,CAAWgB,iBAAf,EAAkC;AAChC,eAAKS,QAAL,CAAc;AACZX,YAAAA,IAAI,EAAEA,IAAI,CAACA,IADC;AAEZE,YAAAA,iBAAiB,EAAE;AAFP,WAAd;AAID,SALD,MAKO;AACL,eAAKS,QAAL,CAAc;AACZX,YAAAA,IAAI,EAAEA,IAAI,CAACA;AADC,WAAd;AAGD;AACF,OAfH;AAgBD,KAhPa;;AAAA,SAkPd+E,aAlPc,GAkPE,CAACvB,KAAD,EAAQ/C,MAAR,EAAgBC,CAAhB,KAAsB;AACpC,WAAKC,QAAL,CAAc;AACZb,QAAAA,YAAY,EAAEW,MADF;AAEZZ,QAAAA,QAAQ,EAAE;AAFE,OAAd;AAID,KAvPa;;AAAA,SAyPdmF,WAzPc,GAyPA,MAAM;AAClB,UAAI,KAAKxB,KAAL,CAAWyB,IAAX,KAAoB,IAApB,IAA4BC,SAAhC,EAA0C;AACxCC,QAAAA,KAAK,CAAC,4CAAD,CAAL;AACD,OAFD,MAEO,IAAI,KAAKjG,KAAL,CAAWc,IAAX,KAAoB,KAAxB,EAA+B;AACpC,cAAMoF,WAAW,GAAG;AAClBC,UAAAA,IAAI,EAAE,KAAKnG,KAAL,CAAWc,IAAX,CAAgBsF,IAAhB,CAAqBD,IADT;AAElBE,UAAAA,OAAO,EAAE,KAAK/B,KAAL,CAAWyB,IAAX,CAAgBO,EAFP;AAGlBlG,UAAAA,GAAG,EAAE,KAAKJ,KAAL,CAAWc,IAAX,CAAgBsF,IAAhB,CAAqBG,GAArB,CAAyB,CAAzB,CAHa;AAIlBlG,UAAAA,GAAG,EAAE,KAAKL,KAAL,CAAWc,IAAX,CAAgBsF,IAAhB,CAAqBG,GAArB,CAAyB,CAAzB;AAJa,SAApB;AAMA,cAAMC,MAAM,GAAG;AACb/C,UAAAA,MAAM,EAAE,MADK;AAEbC,UAAAA,OAAO,EAAE;AACP,4BAAgB;AADT,WAFI;AAKb+C,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,WAAf;AALO,SAAf;AAOArD,QAAAA,KAAK,CAAC,2CAAD,EAA8C2D,MAA9C,CAAL,CACGlE,IADH,CACSQ,IAAD,IAAUA,IAAI,CAACC,IAAL,EADlB,EAEGT,IAFH,CAES4D,WAAD,IAAiB;AACrB,eAAK5B,KAAL,CAAWtF,qBAAX,CAAiCkH,WAAjC;AACD,SAJH;AAKD;AACF,KAhRa;;AAAA,SAkRdU,YAlRc,GAkREtD,QAAD,IAAc;AAC3B,WAAKrB,IAAL,CAAUC,GAAV,CAAcC,SAAd,CAAwB;AAAE/B,QAAAA,GAAG,EAAEkD,QAAQ,CAAClD,GAAhB;AAAqBC,QAAAA,GAAG,EAAEiD,QAAQ,CAACjD;AAAnC,OAAxB;;AACAwC,MAAAA,KAAK,CACF,kCAAiCS,QAAQ,CAAClD,GAAI,IAAGkD,QAAQ,CAACjD,GAAI,kDAD5D,CAAL,CAGGiC,IAHH,CAGSQ,IAAD,IAAUA,IAAI,CAACC,IAAL,EAHlB,EAIGT,IAJH,CAISxB,IAAD,IAAU;AACd,aAAKW,QAAL,CAAc;AACZX,UAAAA,IAAI,EAAEA,IAAI,CAACA,IADC;AAEZE,UAAAA,iBAAiB,EAAE;AAFP,SAAd;AAID,OATH;AAUD,KA9Ra;;AAAA,SAgSd6F,UAhSc,GAgSD,MAAM;AACjB,WAAKpF,QAAL,CAAc;AACZT,QAAAA,iBAAiB,EAAE;AADP,OAAd;AAGD,KApSa;;AAAA,SAsSd8F,SAtSc,GAsSF,MAAM;AAChB,WAAKrF,QAAL,CAAc;AACZT,QAAAA,iBAAiB,EAAE;AADP,OAAd;AAGD,KA1Sa;;AAAA,SA4Sd+F,SA5Sc,GA4SF,MAAM;AAChB,WAAKtF,QAAL,CAAc;AACZL,QAAAA,SAAS,EAAE;AADC,OAAd;AAGD,KAhTa;;AAAA,SAiTd4F,gBAjTc,GAiTK,MAAM;AACvB,WAAKvF,QAAL,CAAc;AACZL,QAAAA,SAAS,EAAE;AADC,OAAd;AAGD,KArTa;;AAEZ,SAAK6F,KAAL,GAAa,IAAb;AACD;;AAqCD;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAC,EAAAA,iBAAiB,GAAG,CAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;AAmODC,EAAAA,MAAM,GAAG;AACP,UAAMC,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAlB;AACA,UAAMC,SAAS,GAAGF,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAlB;AACA,QAAIE,YAAJ;;AACA,QAAIJ,SAAJ,EAAc;AACZI,MAAAA,YAAY,GAAG;AAACpH,QAAAA,GAAG,EAAEqH,UAAU,CAACL,SAAD,CAAhB;AAA4B/G,QAAAA,GAAG,EAAEoH,UAAU,CAACF,SAAD;AAA3C,OAAf;AACD,KAFD,MAEO;AACLC,MAAAA,YAAY,GAAG,KAAKxH,KAAL,CAAWG,MAA1B;AACD;;AACD,QAAIuH,QAAJ;;AACA,QAAI,KAAK1H,KAAL,CAAWc,IAAX,KAAoB,KAApB,IAA6B,KAAKd,KAAL,CAAWc,IAAX,CAAgBkC,GAAhB,IAAuB,EAAxD,EAA4D;AAC1D0E,MAAAA,QAAQ,GAAG,SAAX;AACD,KAFD,MAEO,IAAI,KAAK1H,KAAL,CAAWc,IAAX,KAAoB,KAApB,IAA6B,KAAKd,KAAL,CAAWc,IAAX,CAAgBkC,GAAhB,IAAuB,GAAxD,EAA6D;AAClE0E,MAAAA,QAAQ,GAAG,SAAX;AACD,KAFM,MAEA,IAAI,KAAK1H,KAAL,CAAWc,IAAX,KAAoB,KAApB,IAA6B,KAAKd,KAAL,CAAWc,IAAX,CAAgBkC,GAAhB,IAAuB,GAAxD,EAA6D;AAClE0E,MAAAA,QAAQ,GAAG,SAAX;AACD,KAFM,MAEA,IAAI,KAAK1H,KAAL,CAAWc,IAAX,KAAoB,KAApB,IAA6B,KAAKd,KAAL,CAAWc,IAAX,CAAgBkC,GAAhB,IAAuB,GAAxD,EAA6D;AAClE0E,MAAAA,QAAQ,GAAG,SAAX;AACD,KAFM,MAEA,IAAI,KAAK1H,KAAL,CAAWc,IAAX,KAAoB,KAApB,IAA6B,KAAKd,KAAL,CAAWc,IAAX,CAAgBkC,GAAhB,IAAuB,GAAxD,EAA6D;AAClE0E,MAAAA,QAAQ,GAAG,SAAX;AACD,KAFM,MAEA;AACLA,MAAAA,QAAQ,GAAG,SAAX;AACD;;AACD,QAAIC,SAAJ;;AACA,QACE,KAAK3H,KAAL,CAAWa,cAAX,KAA8B,KAA9B,IACA,KAAKb,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCb,YAAhC,IAAgD,EAFlD,EAGE;AACAgE,MAAAA,SAAS,GAAG,SAAZ;AACD,KALD,MAKO,IACL,KAAK3H,KAAL,CAAWa,cAAX,KAA8B,KAA9B,IACA,KAAKb,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCb,YAAhC,IAAgD,EAF3C,EAGL;AACAgE,MAAAA,SAAS,GAAG,SAAZ;AACD,KALM,MAKA;AACLA,MAAAA,SAAS,GAAG,SAAZ;AACD;;AACD,QAAIC,MAAJ;AACA,QAAIC,OAAJ;AACA,QAAIC,QAAJ;AACA,QAAIC,QAAJ;AACA,QAAIC,IAAJ;AACA,QAAIC,KAAJ;AACA,QAAIC,OAAJ;AACA,QAAIC,WAAJ;AACA,QAAIC,QAAJ;AACA,QAAIC,OAAJ;AACA,QAAIC,SAAJ;AACA,QAAIC,QAAJ;;AACA,QAAI,KAAKvI,KAAL,CAAWa,cAAf,EAA+B;AAC7BsH,MAAAA,WAAW,GAAG;AACZK,QAAAA,QAAQ,EAAE,CACR;AACE1H,UAAAA,IAAI,EAAE,CACJ,KAAKd,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCZ,YAD5B,EAEJ,MAAM,KAAK5D,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCZ,YAFlC,CADR;AAKE6E,UAAAA,eAAe,EAAE,CAAC,SAAD,EAAY,SAAZ,CALnB;AAMEC,UAAAA,oBAAoB,EAAE,CAAC,SAAD,EAAY,SAAZ;AANxB,SADQ;AADE,OAAd;AAYAN,MAAAA,QAAQ,GAAG;AACTI,QAAAA,QAAQ,EAAE,CACR;AACE1H,UAAAA,IAAI,EAAE,CACJ,KAAKd,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCX,SAD5B,EAEJ,MAAM,KAAK7D,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCX,SAFlC,CADR;AAKE4E,UAAAA,eAAe,EAAE,CAAC,SAAD,EAAY,SAAZ,CALnB;AAMEC,UAAAA,oBAAoB,EAAE,CAAC,SAAD,EAAY,SAAZ;AANxB,SADQ;AADD,OAAX;AAYAL,MAAAA,OAAO,GAAG;AACRG,QAAAA,QAAQ,EAAE,CACR;AACE1H,UAAAA,IAAI,EAAE,CACJ,KAAKd,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCV,aAD5B,EAEJ,MAAM,KAAK9D,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCV,aAFlC,CADR;AAKE2E,UAAAA,eAAe,EAAE,CAAC,SAAD,EAAY,SAAZ,CALnB;AAMEC,UAAAA,oBAAoB,EAAE,CAAC,SAAD,EAAY,SAAZ;AANxB,SADQ;AADF,OAAV;AAYAJ,MAAAA,SAAS,GAAG;AACVE,QAAAA,QAAQ,EAAE,CACR;AACE1H,UAAAA,IAAI,EAAE,CACJ,KAAKd,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCT,UAD5B,EAEJ,MAAM,KAAK/D,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCT,UAFlC,CADR;AAKE0E,UAAAA,eAAe,EAAE,CAAC,SAAD,EAAY,SAAZ,CALnB;AAMEC,UAAAA,oBAAoB,EAAE,CAAC,SAAD,EAAY,SAAZ;AANxB,SADQ;AADA,OAAZ;AAYAH,MAAAA,QAAQ,GAAG;AACTC,QAAAA,QAAQ,EAAE,CACR;AACE1H,UAAAA,IAAI,EAAE,CACJ,KAAKd,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCR,SAD5B,EAEJ,MAAM,KAAKhE,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCR,SAFlC,CADR;AAKEyE,UAAAA,eAAe,EAAE,CAAC,SAAD,EAAY,SAAZ,CALnB;AAMEC,UAAAA,oBAAoB,EAAE,CAAC,SAAD,EAAY,SAAZ;AANxB,SADQ;AADD,OAAX;AAYD;;AACD,QAAI,KAAK1I,KAAL,CAAWc,IAAX,KAAoB,KAAxB,EAA+B;AAC7B,UAAI6H,GAAG,GAAG,IAAIC,IAAJ,GAAWC,OAAX,EAAV;AACA,UAAIC,OAAO,GAAG,IAAIF,IAAJ,CAAS,KAAK5I,KAAL,CAAWc,IAAX,CAAgBiI,IAAhB,CAAqBC,GAA9B,EAAmCH,OAAnC,EAAd;AACA,UAAII,QAAQ,GAAGH,OAAO,GAAGH,GAAzB;AACAX,MAAAA,IAAI,GAAGkB,IAAI,CAACC,KAAL,CAAWF,QAAQ,IAAI,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAArB,CAAnB,CAAP;AACAhB,MAAAA,KAAK,GAAGiB,IAAI,CAACC,KAAL,CAAYF,QAAQ,IAAI,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAArB,CAAT,IAAsC,OAAO,EAAP,GAAY,EAAlD,CAAX,CAAR;AACAf,MAAAA,OAAO,GAAGgB,IAAI,CAACC,KAAL,CAAYF,QAAQ,IAAI,OAAO,EAAP,GAAY,EAAhB,CAAT,IAAiC,OAAO,EAAxC,CAAX,CAAV;;AACA,UACE,KAAKjJ,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,KAAmCrD,SAAnC,IACA,QAAQ,KAAKhG,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAFnC,EAGE;AACA,YAAIC,QAAQ,GAAG,EAAf;AAAA,YACEC,MAAM,GAAG,EADX;AAAA,YAEEC,MAAM,GAAG,EAFX;AAAA,YAGEC,MAAM,GAAG,EAHX;;AAIA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK1J,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BM,EAA/B,CAAkCC,MAAtD,EAA8DF,CAAC,EAA/D,EAAmE;AACjEJ,UAAAA,QAAQ,CAACO,IAAT,CACE,IAAIjB,IAAJ,CAAS,KAAK5I,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BM,EAA/B,CAAkCD,CAAlC,EAAqCI,GAA9C,EACGpF,QADH,GAEGqF,SAFH,CAEa,CAFb,EAEgB,EAFhB,CADF;AAKAR,UAAAA,MAAM,CAACM,IAAP,CAAY,KAAK7J,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BM,EAA/B,CAAkCD,CAAlC,EAAqCM,GAAjD;AACAR,UAAAA,MAAM,CAACK,IAAP,CAAY,KAAK7J,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BM,EAA/B,CAAkCD,CAAlC,EAAqCO,GAAjD;AACAR,UAAAA,MAAM,CAACI,IAAP,CAAY,KAAK7J,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BM,EAA/B,CAAkCD,CAAlC,EAAqCQ,GAAjD;AACD;;AACDtC,QAAAA,MAAM,GAAG;AACPuC,UAAAA,MAAM,EAAEb,QADD;AAEPd,UAAAA,QAAQ,EAAE,CACR;AACE4B,YAAAA,KAAK,EAAE,KADT;AAEE3B,YAAAA,eAAe,EAAE,SAFnB;AAGE4B,YAAAA,WAAW,EAAE,SAHf;AAIEC,YAAAA,WAAW,EAAE,CAJf;AAKExJ,YAAAA,IAAI,EAAE2I,MALR;AAMEc,YAAAA,IAAI,EAAE,GANR;AAOEC,YAAAA,MAAM,EAAE;AAPV,WADQ,EAUR;AACEJ,YAAAA,KAAK,EAAE,KADT;AAEE3B,YAAAA,eAAe,EAAE,SAFnB;AAGE4B,YAAAA,WAAW,EAAE,SAHf;AAIEC,YAAAA,WAAW,EAAE,CAJf;AAKExJ,YAAAA,IAAI,EAAEyI,MALR;AAMEgB,YAAAA,IAAI,EAAE,IANR;AAOEE,YAAAA,IAAI,EAAE,KAPR;AAQED,YAAAA,MAAM,EAAE;AARV,WAVQ,EAoBR;AACEJ,YAAAA,KAAK,EAAE,KADT;AAEE3B,YAAAA,eAAe,EAAE,SAFnB;AAGE4B,YAAAA,WAAW,EAAE,SAHf;AAIEC,YAAAA,WAAW,EAAE,CAJf;AAKExJ,YAAAA,IAAI,EAAE0I,MALR;AAMEiB,YAAAA,IAAI,EAAE,KANR;AAOEF,YAAAA,IAAI,EAAE,GAPR;AAQEC,YAAAA,MAAM,EAAE;AARV,WApBQ;AAFH,SAAT;AAkCD;;AACD,UACE,KAAKxK,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,KAAmCrD,SAAnC,IACA,UAAU,KAAKhG,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAFrC,EAGE;AACA,YAAIC,QAAQ,GAAG,EAAf;AAAA,YACEC,MAAM,GAAG,EADX;AAAA,YAEEC,MAAM,GAAG,EAFX;AAAA,YAGEC,MAAM,GAAG,EAHX;;AAIA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK1J,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BqB,IAA/B,CAAoCd,MAAxD,EAAgEF,CAAC,EAAjE,EAAqE;AACnEJ,UAAAA,QAAQ,CAACO,IAAT,CACE,IAAIjB,IAAJ,CAAS,KAAK5I,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BqB,IAA/B,CAAoChB,CAApC,EAAuCI,GAAhD,EACGpF,QADH,GAEGqF,SAFH,CAEa,CAFb,EAEgB,EAFhB,CADF;AAKAR,UAAAA,MAAM,CAACM,IAAP,CAAY,KAAK7J,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BqB,IAA/B,CAAoChB,CAApC,EAAuCM,GAAnD;AACAR,UAAAA,MAAM,CAACK,IAAP,CAAY,KAAK7J,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BqB,IAA/B,CAAoChB,CAApC,EAAuCO,GAAnD;AACAR,UAAAA,MAAM,CAACI,IAAP,CAAY,KAAK7J,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BqB,IAA/B,CAAoChB,CAApC,EAAuCQ,GAAnD;AACD;;AACDpC,QAAAA,QAAQ,GAAG;AACTqC,UAAAA,MAAM,EAAEb,QADC;AAETd,UAAAA,QAAQ,EAAE,CACR;AACE4B,YAAAA,KAAK,EAAE,KADT;AAEE3B,YAAAA,eAAe,EAAE,SAFnB;AAGE4B,YAAAA,WAAW,EAAE,SAHf;AAIEC,YAAAA,WAAW,EAAE,CAJf;AAKExJ,YAAAA,IAAI,EAAE2I,MALR;AAMEc,YAAAA,IAAI,EAAE,GANR;AAOEC,YAAAA,MAAM,EAAE;AAPV,WADQ,EAUR;AACEJ,YAAAA,KAAK,EAAE,KADT;AAEE3B,YAAAA,eAAe,EAAE,SAFnB;AAGE4B,YAAAA,WAAW,EAAE,SAHf;AAIEC,YAAAA,WAAW,EAAE,CAJf;AAKExJ,YAAAA,IAAI,EAAEyI,MALR;AAMEgB,YAAAA,IAAI,EAAE,IANR;AAOEE,YAAAA,IAAI,EAAE,KAPR;AAQED,YAAAA,MAAM,EAAE;AARV,WAVQ,EAoBR;AACEJ,YAAAA,KAAK,EAAE,KADT;AAEE3B,YAAAA,eAAe,EAAE,SAFnB;AAGE4B,YAAAA,WAAW,EAAE,SAHf;AAIEC,YAAAA,WAAW,EAAE,CAJf;AAKExJ,YAAAA,IAAI,EAAE0I,MALR;AAMEiB,YAAAA,IAAI,EAAE,KANR;AAOEF,YAAAA,IAAI,EAAE,GAPR;AAQEC,YAAAA,MAAM,EAAE;AARV,WApBQ;AAFD,SAAX;AAkCD;;AACD,UACE,KAAKxK,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,KAAmCrD,SAAnC,IACA,UAAU,KAAKhG,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAFrC,EAGE;AACA,YAAIC,QAAQ,GAAG,EAAf;AAAA,YACEC,MAAM,GAAG,EADX;AAAA,YAEEC,MAAM,GAAG,EAFX;AAAA,YAGEC,MAAM,GAAG,EAHX;;AAIA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK1J,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BsB,IAA/B,CAAoCf,MAAxD,EAAgEF,CAAC,EAAjE,EAAqE;AACnEJ,UAAAA,QAAQ,CAACO,IAAT,CACE,IAAIjB,IAAJ,CAAS,KAAK5I,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BsB,IAA/B,CAAoCjB,CAApC,EAAuCI,GAAhD,EACGpF,QADH,GAEGqF,SAFH,CAEa,CAFb,EAEgB,EAFhB,CADF;AAKAR,UAAAA,MAAM,CAACM,IAAP,CAAY,KAAK7J,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BsB,IAA/B,CAAoCjB,CAApC,EAAuCM,GAAnD;AACAR,UAAAA,MAAM,CAACK,IAAP,CAAY,KAAK7J,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BsB,IAA/B,CAAoCjB,CAApC,EAAuCO,GAAnD;AACAR,UAAAA,MAAM,CAACI,IAAP,CAAY,KAAK7J,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BsB,IAA/B,CAAoCjB,CAApC,EAAuCQ,GAAnD;AACD;;AACDnC,QAAAA,QAAQ,GAAG;AACToC,UAAAA,MAAM,EAAEb,QADC;AAETd,UAAAA,QAAQ,EAAE,CACR;AACE4B,YAAAA,KAAK,EAAE,KADT;AAEE3B,YAAAA,eAAe,EAAE,SAFnB;AAGE4B,YAAAA,WAAW,EAAE,SAHf;AAIEC,YAAAA,WAAW,EAAE,CAJf;AAKExJ,YAAAA,IAAI,EAAE2I,MALR;AAMEc,YAAAA,IAAI,EAAE,GANR;AAOEC,YAAAA,MAAM,EAAE;AAPV,WADQ,EAUR;AACEJ,YAAAA,KAAK,EAAE,KADT;AAEE3B,YAAAA,eAAe,EAAE,SAFnB;AAGE4B,YAAAA,WAAW,EAAE,SAHf;AAIEC,YAAAA,WAAW,EAAE,CAJf;AAKExJ,YAAAA,IAAI,EAAEyI,MALR;AAMEgB,YAAAA,IAAI,EAAE,IANR;AAOEE,YAAAA,IAAI,EAAE,KAPR;AAQED,YAAAA,MAAM,EAAE;AARV,WAVQ,EAoBR;AACEJ,YAAAA,KAAK,EAAE,KADT;AAEE3B,YAAAA,eAAe,EAAE,SAFnB;AAGE4B,YAAAA,WAAW,EAAE,SAHf;AAIEC,YAAAA,WAAW,EAAE,CAJf;AAKExJ,YAAAA,IAAI,EAAE0I,MALR;AAMEiB,YAAAA,IAAI,EAAE,KANR;AAOEF,YAAAA,IAAI,EAAE,GAPR;AAQEC,YAAAA,MAAM,EAAE;AARV,WApBQ;AAFD,SAAX;AAkCD;;AACD,UACE,KAAKxK,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,KAAmCrD,SAAnC,IACA,SAAS,KAAKhG,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAFpC,EAGE;AACA,YAAIC,QAAQ,GAAG,EAAf;AAAA,YACEC,MAAM,GAAG,EADX;AAAA,YAEEC,MAAM,GAAG,EAFX;AAAA,YAGEC,MAAM,GAAG,EAHX;;AAIA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK1J,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BuB,GAA/B,CAAmChB,MAAvD,EAA+DF,CAAC,EAAhE,EAAoE;AAClEJ,UAAAA,QAAQ,CAACO,IAAT,CACE,IAAIjB,IAAJ,CAAS,KAAK5I,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BuB,GAA/B,CAAmClB,CAAnC,EAAsCI,GAA/C,EACGpF,QADH,GAEGqF,SAFH,CAEa,CAFb,EAEgB,EAFhB,CADF;AAKAR,UAAAA,MAAM,CAACM,IAAP,CAAY,KAAK7J,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BuB,GAA/B,CAAmClB,CAAnC,EAAsCM,GAAlD;AACAR,UAAAA,MAAM,CAACK,IAAP,CAAY,KAAK7J,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BuB,GAA/B,CAAmClB,CAAnC,EAAsCO,GAAlD;AACAR,UAAAA,MAAM,CAACI,IAAP,CAAY,KAAK7J,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,CAA+BuB,GAA/B,CAAmClB,CAAnC,EAAsCQ,GAAlD;AACD;;AACDrC,QAAAA,OAAO,GAAG;AACRsC,UAAAA,MAAM,EAAEb,QADA;AAERd,UAAAA,QAAQ,EAAE,CACR;AACE4B,YAAAA,KAAK,EAAE,KADT;AAEE3B,YAAAA,eAAe,EAAE,SAFnB;AAGE4B,YAAAA,WAAW,EAAE,SAHf;AAIEC,YAAAA,WAAW,EAAE,CAJf;AAKExJ,YAAAA,IAAI,EAAE2I,MALR;AAMEc,YAAAA,IAAI,EAAE,GANR;AAOEC,YAAAA,MAAM,EAAE;AAPV,WADQ,EAUR;AACEJ,YAAAA,KAAK,EAAE,KADT;AAEE3B,YAAAA,eAAe,EAAE,SAFnB;AAGE4B,YAAAA,WAAW,EAAE,SAHf;AAIEC,YAAAA,WAAW,EAAE,CAJf;AAKExJ,YAAAA,IAAI,EAAEyI,MALR;AAMEgB,YAAAA,IAAI,EAAE,IANR;AAOEE,YAAAA,IAAI,EAAE,KAPR;AAQED,YAAAA,MAAM,EAAE;AARV,WAVQ,EAoBR;AACEJ,YAAAA,KAAK,EAAE,KADT;AAEE3B,YAAAA,eAAe,EAAE,SAFnB;AAGE4B,YAAAA,WAAW,EAAE,SAHf;AAIEC,YAAAA,WAAW,EAAE,CAJf;AAKExJ,YAAAA,IAAI,EAAE0I,MALR;AAMEiB,YAAAA,IAAI,EAAE,KANR;AAOEF,YAAAA,IAAI,EAAE,GAPR;AAQEC,YAAAA,MAAM,EAAE;AARV,WApBQ;AAFF,SAAV;AAkCD;AACF;;AACD,UAAMK,UAAU,GAAG,CACjB;AACEC,MAAAA,GAAG,EAAE,eADP;AAEEC,MAAAA,IAAI,EAAE,gBAFR;AAGE7H,MAAAA,KAAK,EAAE;AAHT,KADiB,EAMjB;AACE4H,MAAAA,GAAG,EAAE,mBADP;AAEEC,MAAAA,IAAI,EAAE,mBAFR;AAGE7H,MAAAA,KAAK,EAAE;AAHT,KANiB,CAAnB;AAYA,UAAM8H,SAAS,GAAG1L,cAAc,CAAC;AAC/B2L,MAAAA,OAAO,EAAE;AACPC,QAAAA,IAAI,EAAE;AADC;AADsB,KAAD,CAAhC;AAKA,QAAI/J,YAAJ;;AACA,QACE,KAAKnB,KAAL,CAAWc,IAAX,KAAoB,KAApB,IACA,KAAKwD,KAAL,CAAW6G,SAAX,KAAyB,EADzB,IAEA,KAAK7G,KAAL,CAAW6G,SAAX,CAAqBC,IAArB,CAA2BC,GAAD,IAASA,GAAG,CAAClF,IAAJ,KAAa,KAAKnG,KAAL,CAAWc,IAAX,CAAgBsF,IAAhB,CAAqBD,IAArE,CAHF,EAIE;AACAhF,MAAAA,YAAY,GAAG,IAAf;AACD,KAND,MAMO;AACLA,MAAAA,YAAY,GAAG,KAAf;AACD;;AACD,QAAImK,YAAY,GAAG,KAAKtL,KAAL,CAAWoB,SAA9B;AACA,wBACE,oBAAC,aAAD;AAAe,MAAA,KAAK,EAAE4J,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,EAAE,EAAC,UADL;AAEE,MAAA,GAAG,EAAEnL,QAFP;AAGE,MAAA,GAAG,EAAC,UAHN;AAIE,MAAA,KAAK,EAAE;AAAE0L,QAAAA,OAAO,EAAED;AAAX,OAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAOE,oBAAC,IAAD;AACE,MAAA,SAAS,MADX;AAEE,MAAA,SAAS,EAAC,KAFZ;AAGE,MAAA,OAAO,EAAC,YAHV;AAIE,MAAA,UAAU,EAAC,YAJb;AAKE,MAAA,SAAS,MALX;AAME,MAAA,OAAO,EAAE,CANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAQE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,wBAAD;AACE,MAAA,GAAG,EAAGE,MAAD,IAAa,KAAKjI,OAAL,GAAeiI,MADnC;AAEE,MAAA,QAAQ,EAAE,KAAKvI,YAFjB;AAGE,MAAA,UAAU,EAAE;AACVwI,QAAAA,UAAU,EAAE,oBADF;AAEVC,QAAAA,KAAK,EAAE,SAFG;AAGV,yBAAiB;AAHP,OAHd;AAQE,MAAA,WAAW,EAAC,qBARd;AASE,MAAA,iBAAiB,EAAE;AACjBD,QAAAA,UAAU,EAAE,MADK;AAEjB,yBAAiB;AAFA,OATrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CARF,eAwBE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AACE,MAAA,GAAG,EAAGvJ,GAAD,IAAU,KAAKD,IAAL,GAAYC,GAD7B;AAEE,MAAA,MAAM,EAAE,KAAKoC,KAAL,CAAWK,MAFrB;AAGE,MAAA,MAAM,EAAE,KAAK3E,KAAL,CAAWqB,QAHrB;AAIE,MAAA,gBAAgB,EAAE,IAJpB;AAKE,MAAA,iBAAiB,EAAE,IALrB;AAME,MAAA,WAAW,EAAE,IANf;AAOE,MAAA,cAAc,EAAE,IAPlB;AAQE,MAAA,qBAAqB,EAAE;AACrB+C,QAAAA,QAAQ,EAAE,KAAKE,KAAL,CAAWK,MAAX,CAAkBK,IAAlB,CAAuB2G,eAAvB,CAAuCC;AAD5B,OARzB;AAWE,MAAA,kBAAkB,EAAE;AAClBC,QAAAA,KAAK,EAAE,KAAKvH,KAAL,CAAWK,MAAX,CAAkBK,IAAlB,CAAuB8G,gBAAvB,CAAwCC,MAD7B;AAElB3H,QAAAA,QAAQ,EAAE,KAAKE,KAAL,CAAWK,MAAX,CAAkBK,IAAlB,CAAuB2G,eAAvB,CACPK;AAHe,OAXtB;AAgBE,MAAA,wBAAwB,EAAE;AACxB5H,QAAAA,QAAQ,EAAE,KAAKE,KAAL,CAAWK,MAAX,CAAkBK,IAAlB,CAAuB2G,eAAvB,CACPK;AAFqB,OAhB5B;AAoBE,MAAA,aAAa,EAAExE,YApBjB;AAqBE,MAAA,MAAM,EAAE,KAAKxH,KAAL,CAAWG,MArBrB;AAsBE,MAAA,IAAI,EAAE,CAtBR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAwBE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AACE,MAAA,aAAa,MADf;AAEE,MAAA,MAAM,MAFR;AAGE,MAAA,OAAO,EAAE0K,UAHX;AAIE,MAAA,QAAQ,EAAE,KAAKxF,YAJjB;AAKE,MAAA,YAAY,EAAEwF,UAAU,CAAC,CAAD,CAAV,CAAc3H,KAL9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAxBF,EAiCG,KAAKlD,KAAL,CAAWQ,OAAX,gBACC,oBAAC,OAAD;AACE,MAAA,OAAO,EAAE,KAAKkF,aADhB;AAEE,MAAA,WAAW,EAAE,KAAKpE,iBAFpB;AAGE,MAAA,UAAU,EAAE,KAAKI,iBAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GAMG,IAvCN,EAwCG,CAAC,KAAK1B,KAAL,CAAWQ,OAAZ,GAAsB,KAAK6D,mBAAL,EAAtB,GAAmD,IAxCtD,eAyCE,oBAAC,UAAD;AACE,MAAA,MAAM,EAAE,KAAKrE,KAAL,CAAWY,YADrB;AAEE,MAAA,QAAQ,EAAE,GAFZ;AAGE,MAAA,WAAW,EAAE,MAAM,KAAKD,QAAL,EAHrB;AAIE,MAAA,KAAK,EAAE;AAAE,4BAAoB;AAAtB,OAJT;AAKE,MAAA,OAAO,EAAE,KAAKX,KAAL,CAAWiB,OALtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKjB,KAAL,CAAWiB,OAAX,GACG,KAAKjB,KAAL,CAAWY,YAAX,CAAwB+E,IAAxB,CAA6BsG,OAA7B,CAAqC9F,IADxC,GAEG,UAHN,CADF,CAPF,CAzCF,CADF,CADF,CAxBF,eAqFE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKnG,KAAL,CAAWa,cAAX,gBACC,oBAAC,IAAD;AACE,MAAA,OAAO,EAAC,UADV;AAEE,MAAA,SAAS,EAAE,aAFb;AAGE,MAAA,KAAK,EAAE;AAAEqL,QAAAA,QAAQ,EAAE;AAAZ,OAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AACE,MAAA,OAAO,EAAC,IADV;AAEE,MAAA,SAAS,EAAC,IAFZ;AAGE,MAAA,KAAK,EAAE;AAAER,QAAAA,KAAK,EAAE/D;AAAT,OAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKG,KAAK3H,KAAL,CAAWa,cAAX,KAA8B,KAA9B,GACG,oBACA,KAAKb,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCb,YAFnC,GAGG,IARN,CADF,eAWE,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,IAApB;AAAyB,MAAA,SAAS,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAK3D,KAAL,CAAWa,cAAX,KAA8B,KAA9B,GACG,KAAKb,KAAL,CAAWM,OADd,GAEG,IAHN,CAXF,eAgBE;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKN,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCZ,YAArC,CADF,CAhBF,eAmBE,oBAAC,QAAD;AACE,MAAA,IAAI,EAAEuE,WADR;AAEE,MAAA,OAAO,EAAE;AACPgE,QAAAA,UAAU,EAAE,IADL;AAEPC,QAAAA,KAAK,EAAE;AACLb,UAAAA,OAAO,EAAE,IADJ;AAELR,UAAAA,IAAI,EAAE,eAFD;AAGLsB,UAAAA,QAAQ,EAAE,EAHL;AAILC,UAAAA,SAAS,EAAE;AAJN,SAFA;AAQPC,QAAAA,MAAM,EAAE;AACNhB,UAAAA,OAAO,EAAE;AADH;AARD,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBF,eAkCE;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKvL,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCT,UAArC,CADF,CAlCF,eAqCE,oBAAC,QAAD;AACE,MAAA,IAAI,EAAEuE,SADR;AAEE,MAAA,OAAO,EAAE;AACP6D,QAAAA,UAAU,EAAE,IADL;AAEPC,QAAAA,KAAK,EAAE;AACLb,UAAAA,OAAO,EAAE,IADJ;AAELR,UAAAA,IAAI,EAAE,aAFD;AAGLsB,UAAAA,QAAQ,EAAE,EAHL;AAILC,UAAAA,SAAS,EAAE;AAJN,SAFA;AAQPC,QAAAA,MAAM,EAAE;AACNhB,UAAAA,OAAO,EAAE;AADH;AARD,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArCF,eAoDE;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKvL,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCR,SAArC,CADF,CApDF,eAuDE,oBAAC,QAAD;AACE,MAAA,IAAI,EAAEuE,QADR;AAEE,MAAA,OAAO,EAAE;AACP4D,QAAAA,UAAU,EAAE,IADL;AAEPC,QAAAA,KAAK,EAAE;AACLb,UAAAA,OAAO,EAAE,IADJ;AAELR,UAAAA,IAAI,EAAE,mBAFD;AAGLsB,UAAAA,QAAQ,EAAE,EAHL;AAILC,UAAAA,SAAS,EAAE;AAJN,SAFA;AAQPC,QAAAA,MAAM,EAAE;AACNhB,UAAAA,OAAO,EAAE;AADH;AARD,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvDF,eAsEE;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKvL,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCX,SAArC,CADF,CAtEF,eAyEE,oBAAC,QAAD;AACE,MAAA,IAAI,EAAEuE,QADR;AAEE,MAAA,OAAO,EAAE;AACP+D,QAAAA,UAAU,EAAE,IADL;AAEPC,QAAAA,KAAK,EAAE;AACLb,UAAAA,OAAO,EAAE,IADJ;AAELR,UAAAA,IAAI,EAAE,YAFD;AAGLsB,UAAAA,QAAQ,EAAE,EAHL;AAILC,UAAAA,SAAS,EAAE;AAJN,SAFA;AAQPC,QAAAA,MAAM,EAAE;AACNhB,UAAAA,OAAO,EAAE;AADH;AARD,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzEF,eAwFE;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKvL,KAAL,CAAWa,cAAX,CAA0B2D,KAA1B,CAAgCV,aAArC,CADF,CAxFF,eA2FE,oBAAC,QAAD;AACE,MAAA,IAAI,EAAEuE,OADR;AAEE,MAAA,OAAO,EAAE;AACP8D,QAAAA,UAAU,EAAE,IADL;AAEPC,QAAAA,KAAK,EAAE;AACLb,UAAAA,OAAO,EAAE,IADJ;AAELR,UAAAA,IAAI,EAAE,iBAFD;AAGLsB,UAAAA,QAAQ,EAAE,EAHL;AAILC,UAAAA,SAAS,EAAE;AAJN,SAFA;AAQPC,QAAAA,MAAM,EAAE;AACNhB,UAAAA,OAAO,EAAE;AADH;AARD,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA3FF,CALF,CADD,GAkHG,IAnHN,EAoHG,CAAC,KAAKvL,KAAL,CAAWgB,iBAAZ,IAAiC,KAAKhB,KAAL,CAAWQ,OAA5C,gBACC,oBAAC,IAAD;AACE,MAAA,SAAS,EAAE,aADb;AAEE,MAAA,OAAO,EAAC,UAFV;AAGE,MAAA,KAAK,EAAE;AAAE0L,QAAAA,QAAQ,EAAE;AAAZ,OAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AACE,MAAA,SAAS,EAAE,aADb;AAEE,MAAA,OAAO,EAAE,KAAKrF,UAFhB;AAGE,MAAA,KAAK,EAAC,OAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKE,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CADF,CADF,eAUE,oBAAC,UAAD;AACE,MAAA,OAAO,EAAC,IADV;AAEE,MAAA,SAAS,EAAC,IAFZ;AAGE,MAAA,KAAK,EAAE;AAAE6E,QAAAA,KAAK,EAAEhE;AAAT,OAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKG,KAAK1H,KAAL,CAAWc,IAAX,KAAoB,KAApB,GACG,wBAAwB,KAAKd,KAAL,CAAWc,IAAX,CAAgBkC,GAD3C,GAEG,IAPN,EAQG,KAAKhD,KAAL,CAAWc,IAAX,KAAoB,KAApB,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,eAEE,oBAAC,UAAD;AACE,MAAA,SAAS,EAAE,WADb;AAEE,MAAA,WAAW,EAAE,MAAM,KAAKiG,SAAL,EAFrB;AAGE,MAAA,UAAU,EAAE,MAAM,KAAKC,gBAAL,EAHpB;AAIE,MAAA,KAAK,EAAC,OAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME,oBAAC,eAAD;AACE,MAAA,KAAK,EAAE;AAAE0E,QAAAA,KAAK,EAAE;AAAT,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CAFF,CADD,GAcG,IAtBN,CAVF,eAkCE,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,IAApB;AAAyB,MAAA,SAAS,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAK1L,KAAL,CAAWc,IAAX,KAAoB,KAApB,GACG,KAAKd,KAAL,CAAWc,IAAX,CAAgBsF,IAAhB,CAAqBD,IADxB,GAEG,IAHN,CAlCF,eAuCE,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAC,eAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKnG,KAAL,CAAWc,IAAX,KAAoB,KAApB,GACG,CAAC,EAAD,GACA,CAACmH,KADD,GAEA,SAFA,GAGA,CAACC,OAHD,GAIA,cAJA,GAKA,KAAKlI,KAAL,CAAWc,IAAX,CAAgBiI,IAAhB,CAAqByD,CANxB,GAOG,IARN,CAvCF,EAiDG,KAAKxM,KAAL,CAAWc,IAAX,KAAoB,KAApB,IACD,KAAKd,KAAL,CAAWc,IAAX,CAAgBsI,QAAhB,CAAyBC,KAAzB,KAAmCrD,SADlC,gBAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AACE,MAAA,IAAI,EAAE4B,MADR;AAEE,MAAA,OAAO,EAAE;AACPuE,QAAAA,UAAU,EAAE,IADL;AAEPM,QAAAA,MAAM,EAAE;AACNC,UAAAA,KAAK,EAAE,CACL;AACEC,YAAAA,KAAK,EAAE;AACLC,cAAAA,WAAW,EAAE,IADR;AAELN,cAAAA,SAAS,EAAE;AAFN;AADT,WADK,CADD;AASNO,UAAAA,KAAK,EAAE,CACL;AACEF,YAAAA,KAAK,EAAE;AACLC,cAAAA,WAAW,EAAE,IADR;AAELN,cAAAA,SAAS,EAAE;AAFN;AADT,WADK;AATD,SAFD;AAoBPQ,QAAAA,QAAQ,EAAE;AACRC,UAAAA,IAAI,EAAE,OADE;AAERC,UAAAA,SAAS,EAAE,IAFH;AAGRC,UAAAA,SAAS,EAAE;AACT7C,YAAAA,KAAK,EAAE,UAAU8C,WAAV,EAAuB;AAC5B,qBACEC,MAAM,CAACD,WAAW,CAACE,MAAb,CAAN,GAA6B,QAD/B;AAGD;AALQ,WAHH;AAURC,UAAAA,aAAa,EAAE;AAVP,SApBH;AAgCPjB,QAAAA,KAAK,EAAE;AACLb,UAAAA,OAAO,EAAE,IADJ;AAELR,UAAAA,IAAI,EAAE,qBAFD;AAGLsB,UAAAA,QAAQ,EAAE,EAHL;AAILC,UAAAA,SAAS,EAAE;AAJN,SAhCA;AAsCPC,QAAAA,MAAM,EAAE;AACNhB,UAAAA,OAAO,EAAE,IADH;AAENnH,UAAAA,QAAQ,EAAE,KAFJ;AAGNkI,UAAAA,SAAS,EAAE;AAHL;AAtCD,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAgDE,oBAAC,IAAD;AACE,MAAA,IAAI,EAAExE,QADR;AAEE,MAAA,OAAO,EAAE;AACPqE,QAAAA,UAAU,EAAE,IADL;AAEPM,QAAAA,MAAM,EAAE;AACNC,UAAAA,KAAK,EAAE,CACL;AACEC,YAAAA,KAAK,EAAE;AACLC,cAAAA,WAAW,EAAE,IADR;AAELN,cAAAA,SAAS,EAAE;AAFN;AADT,WADK,CADD;AASNO,UAAAA,KAAK,EAAE,CACL;AACEF,YAAAA,KAAK,EAAE;AACLC,cAAAA,WAAW,EAAE,IADR;AAELN,cAAAA,SAAS,EAAE;AAFN;AADT,WADK;AATD,SAFD;AAoBPQ,QAAAA,QAAQ,EAAE;AACRC,UAAAA,IAAI,EAAE,OADE;AAERC,UAAAA,SAAS,EAAE,KAFH;AAGRC,UAAAA,SAAS,EAAE;AACT7C,YAAAA,KAAK,EAAE,UAAU8C,WAAV,EAAuB;AAC5B,qBACEC,MAAM,CAACD,WAAW,CAACE,MAAb,CAAN,GAA6B,QAD/B;AAGD;AALQ,WAHH;AAURC,UAAAA,aAAa,EAAE;AAVP,SApBH;AAgCPjB,QAAAA,KAAK,EAAE;AACLb,UAAAA,OAAO,EAAE,IADJ;AAELR,UAAAA,IAAI,EAAE,iCAFD;AAGLsB,UAAAA,QAAQ,EAAE,EAHL;AAILC,UAAAA,SAAS,EAAE;AAJN,SAhCA;AAsCPC,QAAAA,MAAM,EAAE;AACNhB,UAAAA,OAAO,EAAE,KADH;AAENnH,UAAAA,QAAQ,EAAE;AAFJ;AAtCD,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhDF,eA8FE,oBAAC,IAAD;AACE,MAAA,IAAI,EAAE2D,QADR;AAEE,MAAA,OAAO,EAAE;AACPoE,QAAAA,UAAU,EAAE,IADL;AAEPM,QAAAA,MAAM,EAAE;AACNC,UAAAA,KAAK,EAAE,CACL;AACEC,YAAAA,KAAK,EAAE;AACLC,cAAAA,WAAW,EAAE,IADR;AAELN,cAAAA,SAAS,EAAE;AAFN;AADT,WADK,CADD;AASNO,UAAAA,KAAK,EAAE,CACL;AACEF,YAAAA,KAAK,EAAE;AACLC,cAAAA,WAAW,EAAE,IADR;AAELN,cAAAA,SAAS,EAAE;AAFN;AADT,WADK;AATD,SAFD;AAoBPQ,QAAAA,QAAQ,EAAE;AACRC,UAAAA,IAAI,EAAE,OADE;AAERC,UAAAA,SAAS,EAAE,KAFH;AAGRC,UAAAA,SAAS,EAAE;AACT7C,YAAAA,KAAK,EAAE,UAAU8C,WAAV,EAAuB;AAC5B,qBACEC,MAAM,CAACD,WAAW,CAACE,MAAb,CAAN,GAA6B,QAD/B;AAGD;AALQ,WAHH;AAURC,UAAAA,aAAa,EAAE;AAVP,SApBH;AAgCPjB,QAAAA,KAAK,EAAE;AACLb,UAAAA,OAAO,EAAE,IADJ;AAELR,UAAAA,IAAI,EAAE,kCAFD;AAGLsB,UAAAA,QAAQ,EAAE,EAHL;AAILC,UAAAA,SAAS,EAAE;AAJN,SAhCA;AAsCPC,QAAAA,MAAM,EAAE;AACNhB,UAAAA,OAAO,EAAE,KADH;AAENnH,UAAAA,QAAQ,EAAE;AAFJ;AAtCD,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA9FF,eA4IE,oBAAC,IAAD;AACE,MAAA,IAAI,EAAEyD,OADR;AAEE,MAAA,OAAO,EAAE;AACPsE,QAAAA,UAAU,EAAE,IADL;AAEPM,QAAAA,MAAM,EAAE;AACNC,UAAAA,KAAK,EAAE,CACL;AACEC,YAAAA,KAAK,EAAE;AACLC,cAAAA,WAAW,EAAE,IADR;AAELN,cAAAA,SAAS,EAAE;AAFN;AADT,WADK,CADD;AASNO,UAAAA,KAAK,EAAE,CACL;AACEF,YAAAA,KAAK,EAAE;AACLC,cAAAA,WAAW,EAAE,IADR;AAELN,cAAAA,SAAS,EAAE;AAFN;AADT,WADK;AATD,SAFD;AAoBPQ,QAAAA,QAAQ,EAAE;AACRC,UAAAA,IAAI,EAAE,OADE;AAERC,UAAAA,SAAS,EAAE,KAFH;AAGRC,UAAAA,SAAS,EAAE;AACT7C,YAAAA,KAAK,EAAE,UAAU8C,WAAV,EAAuB;AAC5B,qBAAOC,MAAM,CAACD,WAAW,CAACE,MAAb,CAAN,GAA6B,KAApC;AACD;AAHQ,WAHH;AAQRC,UAAAA,aAAa,EAAE;AARP,SApBH;AA8BPjB,QAAAA,KAAK,EAAE;AACLb,UAAAA,OAAO,EAAE,IADJ;AAELR,UAAAA,IAAI,EAAE,mCAFD;AAGLsB,UAAAA,QAAQ,EAAE,EAHL;AAILC,UAAAA,SAAS,EAAE;AAJN,SA9BA;AAoCPC,QAAAA,MAAM,EAAE;AACNhB,UAAAA,OAAO,EAAE,KADH;AAENnH,UAAAA,QAAQ,EAAE;AAFJ;AApCD,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA5IF,CAFD,gBA4LC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qGAFF,CA7OJ,CALF,eAwPE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKpE,KAAL,CAAWc,IAAX,KAAoB,KAApB,gBACC,oBAAC,UAAD;AACE,MAAA,SAAS,EAAE,aADb;AAEE,MAAA,QAAQ,EAAEK,YAFZ;AAGE,MAAA,OAAO,EAAE,KAAK2E,WAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKE,oBAAC,WAAD;AAAa,MAAA,QAAQ,EAAC,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CADD,GAQG,IATN,CADF,CAxPF,CADD,GAuQG,IA3XN,EA4XG,KAAK9F,KAAL,CAAWgB,iBAAX,gBACC,oBAAC,IAAD;AACE,MAAA,SAAS,EAAC,aADZ;AAEE,MAAA,OAAO,EAAC,UAFV;AAGE,MAAA,KAAK,EAAE;AAAEkL,QAAAA,QAAQ,EAAE;AAAZ,OAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AAAY,MAAA,MAAM,EAAC,eAAnB;AAAmC,MAAA,YAAY,MAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAIE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AACE,MAAA,OAAO,EAAE,KAAKpF,SADhB;AAEE,MAAA,SAAS,EAAC,aAFZ;AAGE,MAAA,KAAK,EAAC,OAHR;AAIE,oBAAW,MAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF,CAJF,eAcE,oBAAC,aAAD;AACE,MAAA,SAAS,EAAE,KAAK9G,KAAL,CAAWkB,WADxB;AAEE,MAAA,OAAO,EAAE,KAAK0F,YAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,CALF,CADD,GA0BG,IAtZN,CADF,CArFF,CAPF,CADF,CADF;AA4fD;;AA3pCuC;AA6pC1C0G,QAAQ,CAAC7G,IAAT,CAAcoF,KAAd,GAAsB,sBAAtB;;AAEA,MAAM0B,eAAe,GAAIvN,KAAD,IAAW;AACjC,SAAO;AACL+F,IAAAA,IAAI,EAAE/F,KAAK,CAAC+F,IADP;AAELoF,IAAAA,SAAS,EAAEnL,KAAK,CAACmL,SAFZ;AAGLqC,IAAAA,KAAK,EAAExN,KAAK,CAACwN;AAHR,GAAP;AAKD,CAND;;AAQA,MAAMC,kBAAkB,GAAG;AACzBzO,EAAAA;AADyB,CAA3B;AAIA,MAAM0O,gBAAgB,GAAGvP,gBAAgB,CAAC;AACxCwP,EAAAA,MAAM,EAAE;AADgC,CAAD,CAAhB,CAEtB7N,UAFsB,CAAzB;AAIA,eAAeb,OAAO,CAACsO,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CC,gBAA7C,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { GoogleApiWrapper, Map, Marker, InfoWindow } from \"google-maps-react\";\nimport GooglePlacesAutocomplete from \"react-google-places-autocomplete\";\nimport \"react-google-places-autocomplete/dist/index.min.css\";\nimport Geocode from \"react-geocode\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Dropdown } from \"semantic-ui-react\";\nimport mapStyles from \"./mapStyles\";\nimport Markers from \"./Markers\";\nimport { Line, Doughnut } from \"react-chartjs-2\";\nimport UserLocations from \"./UserLocations\";\nimport { createLocationSuccess } from \"../actions/location\";\nimport { connect } from \"react-redux\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SaveAltIcon from \"@material-ui/icons/SaveAlt\";\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\nimport aqiTable from \"../images/aqiTable.png\";\n\nexport class ClimateMap extends Component {\n  constructor() {\n    super();\n    this.timer = null;\n  }\n  state = {\n    searchText: \"\",\n    showClimateScore: false,\n    coords: {\n      lat: -23.304354,\n      lng: 151.916417,\n    },\n    address: \"Wilson Island, Australia\",\n    allScores: false,\n    showAQI: true,\n    hoveredPinStat: {},\n    hoveredCoords: {\n      lat: \"\",\n      lng: \"\",\n    },\n    showInfo: true,\n    activeMarker: {},\n    activeCSMarker: false,\n    data: false,\n    markersRendered: false,\n    showUserLocations: false,\n    hovered: false,\n    myLocations: [],\n    saveDisabled: false,\n    modalOpen: \"none\",\n    mapStyle: null,\n  };\n\n  mouseEnterHandler = (marker, e) => {\n    this.setState({ activeMarker: marker, showInfo: true });\n  };\n\n  mouseLeaveHandler = (marker) => {\n    this.setState({ hovered: false });\n  };\n\n  // componentWillUnmount() {\n  //   this.clearTimer();\n  // }\n\n  // onTimeout = () => {\n  //   fetch(\n  //     `https://api.waqi.info/feed/geo:${this.state.activeMarker.info.lat};${this.state.activeMarker.info.lon}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n  //   )\n  //     .then((resp) => resp.json())\n  //     .then((data) => {\n  //       if (this.state.showUserLocations) {\n  //         this.setState({\n  //           data: data.data,\n  //           showUserLocations: false,\n  //         });\n  //       } else {\n  //         this.setState({\n  //           data: data.data,\n  //         });\n  //       }\n  //     });\n  // };\n\n  // clearTimer = () => {\n  //   clearTimeout(this.timer);\n  // };\n\n  // componentDidUpdate() {\n  //   if (this.state.hovered) {\n  //     this.timer = setTimeout(this.onTimeout, 500);\n  //   } else {\n  //     this.clearTimer();\n  //   }\n  // }\n\n  componentDidMount() {\n    // navigator.geolocation.getCurrentPosition((position) => {\n    //   let lat = position.coords.latitude;\n    //   let lng = position.coords.longitude;\n    //   let currentLocation = { lat: lat, lng: lng };\n    //   this.setState({\n    //     coords: currentLocation,\n    //   });\n    // });\n  }\n\n  onMarkerDragEnd = (coord) => {\n    const { latLng } = coord;\n    const newLat = latLng.lat();\n    const newLon = latLng.lng();\n    this._score.state.coords.lat = newLat;\n    this._score.state.coords.lng = newLon;\n    this._map.map.setCenter({ lat: newLat, lng: newLon });\n    Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");\n    Geocode.fromLatLng(newLat, newLon).then(\n      (response) => {\n        const newAddress = response.results[0].formatted_address;\n        this._score.state.address = newAddress;\n      },\n      (error) => {\n        console.error(error);\n      }\n    );\n    fetch(\n      `https://api.waqi.info/feed/geo:${newLat};${newLon}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n    )\n      .then((resp) => resp.json())\n      .then((data) => {\n        this._score.state.aqi = data.data.aqi;\n      });\n  };\n\n  handleSubmit = (value) => {\n    Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");\n    Geocode.fromAddress(`${value.description}`).then((response) => {\n      const { lat, lng } = response.results[0].geometry.location;\n\n      this.setState({\n        coords: {\n          lat: lat,\n          lng: lng,\n        },\n      });\n      this._map.map.setCenter({ lat: lat, lng: lng });\n      this._search.clearValue();\n      fetch(`https://climate-score.p.rapidapi.com/${lat}/${lng}`, {\n        method: \"GET\",\n        headers: {\n          \"x-rapidapi-host\": \"climate-score.p.rapidapi.com\",\n          \"x-rapidapi-key\":\n            \"c5855f8358mshe884588b34ae70ep1a1627jsn5e1e97c23a80\",\n        },\n      })\n        .then((resp) => resp.json())\n        .then((data) => {\n          this.setState({\n            allScores: {\n              ClimateScore: data.ClimateScore,\n              DroughtScore: data.DroughtScore,\n              FireScore: data.FireScore,\n              SeaLevelScore: data.SeaLevelScore,\n              StormScore: data.StormScore,\n              TempScore: data.TempScore,\n            },\n          });\n        })\n        .catch((err) => {\n          this.setState({\n            allScores: false,\n          });\n        });\n      Geocode.fromLatLng(lat, lng).then(\n        (response) => {},\n        (error) => {\n          console.error(error);\n        }\n      );\n      fetch(\n        `https://api.waqi.info/feed/geo:${lat};${lng}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n      )\n        .then((resp) => resp.json())\n        .then((locationData) => {\n          this.setState({\n            data: locationData.data,\n          });\n        });\n    });\n  };\n\n  showClimateScore = (marker) => {\n    const newLat = marker.position.lat;\n    const newLon = marker.position.lng;\n    Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");\n    Geocode.fromLatLng(newLat, newLon).then((response) => {\n      const newAddress = response.results[0].formatted_address;\n      this.setState({\n        address: newAddress,\n        activeCSMarker: marker,\n      });\n    });\n  };\n\n  renderClimateScores = () => {\n    return this.props.climateScores.map((score) => {\n      const numberString = score.ClimateScore.toString();\n      const google = this.props.google;\n      let iw = 83,\n        ih = 107;\n      return (\n        <Marker\n          score={score}\n          onClick={this.showClimateScore}\n          position={{ lat: score.lat, lng: score.lng }}\n          icon={{\n            url: `https://waqi.info/mapicon/${numberString}.50.png`,\n            anchor: new google.maps.Point(iw / 4, ih / 2 - 5),\n            size: new google.maps.Size(iw / 2, ih / 2),\n            scaledSize: new google.maps.Size(30, 40),\n          }}\n        />\n      );\n    });\n  };\n\n  labelClicked = (e) => {\n    if (e.nativeEvent.target.innerHTML === \"Climate Score™\") {\n      this.setState({\n        showAQI: false,\n      });\n    } else {\n      this.setState({\n        showAQI: true,\n        activeCSMarker: false,\n      });\n    }\n  };\n\n  mouseOut = (e) => {\n    this.setState({\n      showInfo: false,\n    });\n  };\n\n  onMarkerClick = (marker, e) => {\n    fetch(\n      `https://api.waqi.info/feed/geo:${marker.info.lat};${marker.info.lon}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n    )\n      .then((resp) => resp.json())\n      .then((data) => {\n        if (this.state.showUserLocations) {\n          this.setState({\n            data: data.data,\n            showUserLocations: false,\n          });\n        } else {\n          this.setState({\n            data: data.data,\n          });\n        }\n      });\n  };\n\n  onMarkerHover = (props, marker, e) => {\n    this.setState({\n      activeMarker: marker,\n      showInfo: true,\n    });\n  };\n\n  addLocation = () => {\n    if (this.props.auth === null || undefined){\n      alert('You must be logged in to use this feature.')\n    } else if (this.state.data !== false) {\n      const newLocation = {\n        name: this.state.data.city.name,\n        user_id: this.props.auth.id,\n        lat: this.state.data.city.geo[0],\n        lng: this.state.data.city.geo[1],\n      };\n      const reqObj = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(newLocation),\n      };\n      fetch(\"https://myclimate.herokuapp.com/locations\", reqObj)\n        .then((resp) => resp.json())\n        .then((newLocation) => {\n          this.props.createLocationSuccess(newLocation);\n        });\n    }\n  };\n\n  goToLocation = (location) => {\n    this._map.map.setCenter({ lat: location.lat, lng: location.lng });\n    fetch(\n      `https://api.waqi.info/feed/geo:${location.lat};${location.lng}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n    )\n      .then((resp) => resp.json())\n      .then((data) => {\n        this.setState({\n          data: data.data,\n          showUserLocations: false,\n        });\n      });\n  };\n\n  showMyList = () => {\n    this.setState({\n      showUserLocations: true,\n    });\n  };\n\n  showStats = () => {\n    this.setState({\n      showUserLocations: false,\n    });\n  };\n\n  openModal = () => {\n    this.setState({\n      modalOpen: \"block\",\n    });\n  };\n  handleModalClose = () => {\n    this.setState({\n      modalOpen: \"none\",\n    });\n  };\n\n  render() {\n    const searchLat = localStorage.getItem(\"searchLat\");\n    const searchLng = localStorage.getItem(\"searchLng\");\n    let searchCoords\n    if (searchLat){\n      searchCoords = {lat: parseFloat(searchLat),lng: parseFloat(searchLng)}\n    } else {\n      searchCoords = this.state.coords\n    }\n    let aqiColor;\n    if (this.state.data !== false && this.state.data.aqi <= 50) {\n      aqiColor = \"#c1ff7a\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 100) {\n      aqiColor = \"#ffff33\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 150) {\n      aqiColor = \"#ffc570\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 200) {\n      aqiColor = \"#f6685e\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 300) {\n      aqiColor = \"#ea80fc\";\n    } else {\n      aqiColor = \"#b2b9e1\";\n    }\n    let climColor;\n    if (\n      this.state.activeCSMarker !== false &&\n      this.state.activeCSMarker.score.ClimateScore <= 25\n    ) {\n      climColor = \"#c1ff7a\";\n    } else if (\n      this.state.activeCSMarker !== false &&\n      this.state.activeCSMarker.score.ClimateScore <= 50\n    ) {\n      climColor = \"#ffff33\";\n    } else {\n      climColor = \"#ffc570\";\n    }\n    let o3Data;\n    let uviData;\n    let pm10Data;\n    let pm25Data;\n    let days;\n    let hours;\n    let minutes;\n    let droughtData;\n    let fireData;\n    let seaData;\n    let stormData;\n    let tempData;\n    if (this.state.activeCSMarker) {\n      droughtData = {\n        datasets: [\n          {\n            data: [\n              this.state.activeCSMarker.score.DroughtScore,\n              100 - this.state.activeCSMarker.score.DroughtScore,\n            ],\n            backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n            hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          },\n        ],\n      };\n      fireData = {\n        datasets: [\n          {\n            data: [\n              this.state.activeCSMarker.score.FireScore,\n              100 - this.state.activeCSMarker.score.FireScore,\n            ],\n            backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n            hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          },\n        ],\n      };\n      seaData = {\n        datasets: [\n          {\n            data: [\n              this.state.activeCSMarker.score.SeaLevelScore,\n              100 - this.state.activeCSMarker.score.SeaLevelScore,\n            ],\n            backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n            hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          },\n        ],\n      };\n      stormData = {\n        datasets: [\n          {\n            data: [\n              this.state.activeCSMarker.score.StormScore,\n              100 - this.state.activeCSMarker.score.StormScore,\n            ],\n            backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n            hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          },\n        ],\n      };\n      tempData = {\n        datasets: [\n          {\n            data: [\n              this.state.activeCSMarker.score.TempScore,\n              100 - this.state.activeCSMarker.score.TempScore,\n            ],\n            backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n            hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          },\n        ],\n      };\n    }\n    if (this.state.data !== false) {\n      let now = new Date().getTime();\n      let newDate = new Date(this.state.data.time.iso).getTime();\n      let distance = newDate - now;\n      days = Math.floor(distance / (1000 * 60 * 60 * 24));\n      hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n      minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n      if (\n        this.state.data.forecast.daily !== undefined &&\n        \"o3\" in this.state.data.forecast.daily\n      ) {\n        let labelArr = [],\n          avgArr = [],\n          minArr = [],\n          maxArr = [];\n        for (let i = 0; i < this.state.data.forecast.daily.o3.length; i++) {\n          labelArr.push(\n            new Date(this.state.data.forecast.daily.o3[i].day)\n              .toString()\n              .substring(0, 10)\n          );\n          avgArr.push(this.state.data.forecast.daily.o3[i].avg);\n          minArr.push(this.state.data.forecast.daily.o3[i].min);\n          maxArr.push(this.state.data.forecast.daily.o3[i].max);\n        }\n        o3Data = {\n          labels: labelArr,\n          datasets: [\n            {\n              label: \"max\",\n              backgroundColor: \"#f7ff66\",\n              borderColor: \"#f7ff66\",\n              borderWidth: 0,\n              data: maxArr,\n              fill: \"1\",\n              radius: 1,\n            },\n            {\n              label: \"avg\",\n              backgroundColor: \"#4a9eff\",\n              borderColor: \"#4a9eff\",\n              borderWidth: 1,\n              data: avgArr,\n              fill: \"-1\",\n              line: false,\n              radius: 5,\n            },\n            {\n              label: \"min\",\n              backgroundColor: \"#87ff9f\",\n              borderColor: \"#87ff9f\",\n              borderWidth: 0,\n              data: minArr,\n              line: false,\n              fill: \"1\",\n              radius: 1,\n            },\n          ],\n        };\n      }\n      if (\n        this.state.data.forecast.daily !== undefined &&\n        \"pm10\" in this.state.data.forecast.daily\n      ) {\n        let labelArr = [],\n          avgArr = [],\n          minArr = [],\n          maxArr = [];\n        for (let i = 0; i < this.state.data.forecast.daily.pm10.length; i++) {\n          labelArr.push(\n            new Date(this.state.data.forecast.daily.pm10[i].day)\n              .toString()\n              .substring(0, 10)\n          );\n          avgArr.push(this.state.data.forecast.daily.pm10[i].avg);\n          minArr.push(this.state.data.forecast.daily.pm10[i].min);\n          maxArr.push(this.state.data.forecast.daily.pm10[i].max);\n        }\n        pm10Data = {\n          labels: labelArr,\n          datasets: [\n            {\n              label: \"max\",\n              backgroundColor: \"#f7ff66\",\n              borderColor: \"#f7ff66\",\n              borderWidth: 0,\n              data: maxArr,\n              fill: \"1\",\n              radius: 1,\n            },\n            {\n              label: \"avg\",\n              backgroundColor: \"#4a9eff\",\n              borderColor: \"#4a9eff\",\n              borderWidth: 1,\n              data: avgArr,\n              fill: \"-1\",\n              line: false,\n              radius: 5,\n            },\n            {\n              label: \"min\",\n              backgroundColor: \"#87ff9f\",\n              borderColor: \"#87ff9f\",\n              borderWidth: 0,\n              data: minArr,\n              line: false,\n              fill: \"1\",\n              radius: 1,\n            },\n          ],\n        };\n      }\n      if (\n        this.state.data.forecast.daily !== undefined &&\n        \"pm25\" in this.state.data.forecast.daily\n      ) {\n        let labelArr = [],\n          avgArr = [],\n          minArr = [],\n          maxArr = [];\n        for (let i = 0; i < this.state.data.forecast.daily.pm25.length; i++) {\n          labelArr.push(\n            new Date(this.state.data.forecast.daily.pm25[i].day)\n              .toString()\n              .substring(0, 10)\n          );\n          avgArr.push(this.state.data.forecast.daily.pm25[i].avg);\n          minArr.push(this.state.data.forecast.daily.pm25[i].min);\n          maxArr.push(this.state.data.forecast.daily.pm25[i].max);\n        }\n        pm25Data = {\n          labels: labelArr,\n          datasets: [\n            {\n              label: \"max\",\n              backgroundColor: \"#f7ff66\",\n              borderColor: \"#f7ff66\",\n              borderWidth: 0,\n              data: maxArr,\n              fill: \"1\",\n              radius: 1,\n            },\n            {\n              label: \"avg\",\n              backgroundColor: \"#4a9eff\",\n              borderColor: \"#4a9eff\",\n              borderWidth: 1,\n              data: avgArr,\n              fill: \"-1\",\n              line: false,\n              radius: 5,\n            },\n            {\n              label: \"min\",\n              backgroundColor: \"#87ff9f\",\n              borderColor: \"#87ff9f\",\n              borderWidth: 0,\n              data: minArr,\n              line: false,\n              fill: \"1\",\n              radius: 1,\n            },\n          ],\n        };\n      }\n      if (\n        this.state.data.forecast.daily !== undefined &&\n        \"uvi\" in this.state.data.forecast.daily\n      ) {\n        let labelArr = [],\n          avgArr = [],\n          minArr = [],\n          maxArr = [];\n        for (let i = 0; i < this.state.data.forecast.daily.uvi.length; i++) {\n          labelArr.push(\n            new Date(this.state.data.forecast.daily.uvi[i].day)\n              .toString()\n              .substring(0, 10)\n          );\n          avgArr.push(this.state.data.forecast.daily.uvi[i].avg);\n          minArr.push(this.state.data.forecast.daily.uvi[i].min);\n          maxArr.push(this.state.data.forecast.daily.uvi[i].max);\n        }\n        uviData = {\n          labels: labelArr,\n          datasets: [\n            {\n              label: \"max\",\n              backgroundColor: \"#f7ff66\",\n              borderColor: \"#f7ff66\",\n              borderWidth: 0,\n              data: maxArr,\n              fill: \"1\",\n              radius: 1,\n            },\n            {\n              label: \"avg\",\n              backgroundColor: \"#4a9eff\",\n              borderColor: \"#4a9eff\",\n              borderWidth: 1,\n              data: avgArr,\n              fill: \"-1\",\n              line: false,\n              radius: 5,\n            },\n            {\n              label: \"min\",\n              backgroundColor: \"#87ff9f\",\n              borderColor: \"#87ff9f\",\n              borderWidth: 0,\n              data: minArr,\n              line: false,\n              fill: \"1\",\n              radius: 1,\n            },\n          ],\n        };\n      }\n    }\n    const mapOptions = [\n      {\n        key: \"Climate Score\",\n        text: \"Climate Score™\",\n        value: \"Climate Score\",\n      },\n      {\n        key: \"Air Quality Index\",\n        text: \"Air Quality Index\",\n        value: \"Air Quality Index\",\n      },\n    ];\n    const darkTheme = createMuiTheme({\n      palette: {\n        type: \"dark\",\n      },\n    });\n    let saveDisabled;\n    if (\n      this.state.data !== false &&\n      this.props.locations !== [] &&\n      this.props.locations.some((loc) => loc.name === this.state.data.city.name)\n    ) {\n      saveDisabled = true;\n    } else {\n      saveDisabled = false;\n    }\n    let showAqiTable = this.state.modalOpen;\n    return (\n      <ThemeProvider theme={darkTheme}>\n        <div className=\"nav\">\n          <img\n            id=\"aqiTable\"\n            src={aqiTable}\n            alt=\"aqiTable\"\n            style={{ display: showAqiTable }}\n          ></img>\n          <Grid\n            container\n            direction=\"row\"\n            justify=\"flex-start\"\n            alignItems=\"flex-start\"\n            container\n            spacing={0}\n          >\n            <div className=\"search\">\n              <GooglePlacesAutocomplete\n                ref={(search) => (this._search = search)}\n                onSelect={this.handleSubmit}\n                inputStyle={{\n                  background: \"rgba(0, 0, 0, 0.3)\",\n                  color: \"#FFFFFF\",\n                  \"border-radius\": \"1px\",\n                }}\n                placeholder=\"🔎 Search\"\n                suggestionsStyles={{\n                  background: \"none\",\n                  \"border-radius\": \"1px\",\n                }}\n              />\n            </div>\n            <Grid item xs={8}>\n              <div className=\"location\">\n                <Map\n                  ref={(map) => (this._map = map)}\n                  google={this.props.google}\n                  styles={this.state.mapStyle}\n                  disableDefaultUI={true}\n                  streetViewControl={true}\n                  zoomControl={true}\n                  mapTypeControl={true}\n                  mapTypeControlOptions={{\n                    position: this.props.google.maps.ControlPosition.TOP_CENTER,\n                  }}\n                  zoomControlOptions={{\n                    style: this.props.google.maps.ZoomControlStyle.DEFAUL,\n                    position: this.props.google.maps.ControlPosition\n                      .LEFT_CENTER,\n                  }}\n                  streetViewControlOptions={{\n                    position: this.props.google.maps.ControlPosition\n                      .LEFT_CENTER,\n                  }}\n                  initialCenter={searchCoords}\n                  center={this.state.coords}\n                  zoom={8}\n                >\n                  <div className=\"filter\">\n                    <Dropdown\n                      closeOnChange\n                      inline\n                      options={mapOptions}\n                      onChange={this.labelClicked}\n                      defaultValue={mapOptions[1].value}\n                    />\n                  </div>\n                  {this.state.showAQI ? (\n                    <Markers\n                      onClick={this.onMarkerClick}\n                      onMouseover={this.mouseEnterHandler}\n                      onMouseout={this.mouseLeaveHandler}\n                    />\n                  ) : null}\n                  {!this.state.showAQI ? this.renderClimateScores() : null}\n                  <InfoWindow\n                    marker={this.state.activeMarker}\n                    maxWidth={175}\n                    onMouseover={() => this.showInfo()}\n                    style={{ \"background-color\": \"#000000\" }}\n                    visible={this.state.hovered}\n                  >\n                    <div>\n                      <h4>\n                        {this.state.hovered\n                          ? this.state.activeMarker.info.station.name\n                          : 'Welcome!'}\n                      </h4>\n                    </div>\n                  </InfoWindow>\n                </Map>\n              </div>\n            </Grid>\n            <Grid item xs={4}>\n              <div className=\"hello\">\n                {this.state.activeCSMarker ? (\n                  <Card\n                    variant=\"outlined\"\n                    className={'detail-card'}\n                    style={{ overflow: \"auto\" }}\n                  >\n                    <CardContent>\n                      <Typography\n                        variant=\"h4\"\n                        component=\"h2\"\n                        style={{ color: climColor }}\n                      >\n                        {this.state.activeCSMarker !== false\n                          ? \"Climate Score: \" +\n                            this.state.activeCSMarker.score.ClimateScore\n                          : null}\n                      </Typography>\n                      <Typography variant=\"h5\" component=\"h2\">\n                        {this.state.activeCSMarker !== false\n                          ? this.state.address\n                          : null}\n                      </Typography>\n                      <div class=\"clim-score\">\n                        <h1>{this.state.activeCSMarker.score.DroughtScore}</h1>\n                      </div>\n                      <Doughnut\n                        data={droughtData}\n                        options={{\n                          responsive: true,\n                          title: {\n                            display: true,\n                            text: \"Drought Score\",\n                            fontSize: 18,\n                            fontColor: \"#FFFFFF\",\n                          },\n                          legend: {\n                            display: false,\n                          },\n                        }}\n                      />\n                      <div class=\"clim-score\">\n                        <h1>{this.state.activeCSMarker.score.StormScore}</h1>\n                      </div>\n                      <Doughnut\n                        data={stormData}\n                        options={{\n                          responsive: true,\n                          title: {\n                            display: true,\n                            text: \"Storm Score\",\n                            fontSize: 18,\n                            fontColor: \"#FFFFFF\",\n                          },\n                          legend: {\n                            display: false,\n                          },\n                        }}\n                      />\n                      <div class=\"clim-score\">\n                        <h1>{this.state.activeCSMarker.score.TempScore}</h1>\n                      </div>\n                      <Doughnut\n                        data={tempData}\n                        options={{\n                          responsive: true,\n                          title: {\n                            display: true,\n                            text: \"Temperature Score\",\n                            fontSize: 18,\n                            fontColor: \"#FFFFFF\",\n                          },\n                          legend: {\n                            display: false,\n                          },\n                        }}\n                      />\n                      <div class=\"clim-score\">\n                        <h1>{this.state.activeCSMarker.score.FireScore}</h1>\n                      </div>\n                      <Doughnut\n                        data={fireData}\n                        options={{\n                          responsive: true,\n                          title: {\n                            display: true,\n                            text: \"Fire Score\",\n                            fontSize: 18,\n                            fontColor: \"#FFFFFF\",\n                          },\n                          legend: {\n                            display: false,\n                          },\n                        }}\n                      />\n                      <div class=\"clim-score\">\n                        <h1>{this.state.activeCSMarker.score.SeaLevelScore}</h1>\n                      </div>\n                      <Doughnut\n                        data={seaData}\n                        options={{\n                          responsive: true,\n                          title: {\n                            display: true,\n                            text: \"Sea Level Score\",\n                            fontSize: 18,\n                            fontColor: \"#FFFFFF\",\n                          },\n                          legend: {\n                            display: false,\n                          },\n                        }}\n                      />\n                    </CardContent>\n                  </Card>\n                ) : null}\n                {!this.state.showUserLocations && this.state.showAQI ? (\n                  <Card\n                    className={'detail-card'}\n                    variant=\"outlined\"\n                    style={{ overflow: \"auto\" }}\n                  >\n                    <CardContent>\n                      <div className=\"next2\">\n                        <IconButton\n                          className={\"go-and-back\"}\n                          onClick={this.showMyList}\n                          color=\"white\"\n                        >\n                          <ArrowForwardIosIcon />\n                        </IconButton>\n                      </div>\n                      <Typography\n                        variant=\"h5\"\n                        component=\"h2\"\n                        style={{ color: aqiColor }}\n                      >\n                        {this.state.data !== false\n                          ? \"Air Quality Index: \" + this.state.data.aqi\n                          : null}\n                        {this.state.data !== false ? (\n                          <span>\n                            {\" \"}\n                            <IconButton\n                              className={\"help-icon\"}\n                              onMouseOver={() => this.openModal()}\n                              onMouseOut={() => this.handleModalClose()}\n                              color=\"white\"\n                            >\n                              <HelpOutlineIcon\n                                style={{ color: \"rgba(255, 255, 255, 0.5)\" }}\n                              />\n                            </IconButton>\n                          </span>\n                        ) : null}\n                      </Typography>\n                      <Typography variant=\"h4\" component=\"h2\">\n                        {this.state.data !== false\n                          ? this.state.data.city.name\n                          : null}\n                      </Typography>\n                      <Typography color=\"textSecondary\">\n                        {this.state.data !== false\n                          ? +\"\" +\n                            -hours +\n                            \" hrs & \" +\n                            -minutes +\n                            \" mins ago - \" +\n                            this.state.data.time.s\n                          : null}\n                      </Typography>\n                      {this.state.data !== false &&\n                      this.state.data.forecast.daily !== undefined ? (\n                        <div>\n                          <Line\n                            data={o3Data}\n                            options={{\n                              responsive: true,\n                              scales: {\n                                yAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                                xAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                              },\n                              tooltips: {\n                                mode: \"index\",\n                                intersect: true,\n                                callbacks: {\n                                  label: function (tooltipItem) {\n                                    return (\n                                      Number(tooltipItem.yLabel) + \" µg/m³\"\n                                    );\n                                  },\n                                },\n                                displayColors: true,\n                              },\n                              title: {\n                                display: true,\n                                text: \"Ozone (O3) Forecast\",\n                                fontSize: 12,\n                                fontColor: \"#FFFFFF\",\n                              },\n                              legend: {\n                                display: true,\n                                position: \"top\",\n                                fontColor: \"#FFFFFF\"\n                              },\n                            }}\n                          />\n                          <Line\n                            data={pm10Data}\n                            options={{\n                              responsive: true,\n                              scales: {\n                                yAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                                xAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                              },\n                              tooltips: {\n                                mode: \"index\",\n                                intersect: false,\n                                callbacks: {\n                                  label: function (tooltipItem) {\n                                    return (\n                                      Number(tooltipItem.yLabel) + \" µg/m³\"\n                                    );\n                                  },\n                                },\n                                displayColors: true,\n                              },\n                              title: {\n                                display: true,\n                                text: \"Large Particles (pm10 Forecast)\",\n                                fontSize: 12,\n                                fontColor: \"#FFFFFF\",\n                              },\n                              legend: {\n                                display: false,\n                                position: \"top\",\n                              },\n                            }}\n                          />\n                          <Line\n                            data={pm25Data}\n                            options={{\n                              responsive: true,\n                              scales: {\n                                yAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                                xAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                              },\n                              tooltips: {\n                                mode: \"index\",\n                                intersect: false,\n                                callbacks: {\n                                  label: function (tooltipItem) {\n                                    return (\n                                      Number(tooltipItem.yLabel) + \" µg/m³\"\n                                    );\n                                  },\n                                },\n                                displayColors: true,\n                              },\n                              title: {\n                                display: true,\n                                text: \"Small Particles (pm2.5 Forecast)\",\n                                fontSize: 12,\n                                fontColor: \"#FFFFFF\",\n                              },\n                              legend: {\n                                display: false,\n                                position: \"top\",\n                              },\n                            }}\n                          />\n                          <Line\n                            data={uviData}\n                            options={{\n                              responsive: true,\n                              scales: {\n                                yAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                                xAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                              },\n                              tooltips: {\n                                mode: \"index\",\n                                intersect: false,\n                                callbacks: {\n                                  label: function (tooltipItem) {\n                                    return Number(tooltipItem.yLabel) + \" UV\";\n                                  },\n                                },\n                                displayColors: true,\n                              },\n                              title: {\n                                display: true,\n                                text: \"Ultra Violet Index (UVI Forecast)\",\n                                fontSize: 12,\n                                fontColor: \"#FFFFFF\",\n                              },\n                              legend: {\n                                display: false,\n                                position: \"top\",\n                              },\n                            }}\n                          />\n                        </div>\n                      ) : (\n                        <div>\n                          <h1>Welcome!</h1>\n                          <h2>To use this app, click any pin on the map to view detailed information about that location.</h2>\n                        </div>\n                      )}\n                    </CardContent>\n                    <CardActions>\n                      <div className=\"save\">\n                        {this.state.data !== false ? (\n                          <IconButton\n                            className={\"upload-icon\"}\n                            disabled={saveDisabled}\n                            onClick={this.addLocation}\n                          >\n                            <SaveAltIcon fontSize=\"large\" />\n                          </IconButton>\n                        ) : null}\n                      </div>\n                    </CardActions>\n                  </Card>\n                ) : null}\n                {this.state.showUserLocations ? (\n                  <Card\n                    className='detail-card'\n                    variant=\"outlined\"\n                    style={{ overflow: \"auto\" }}\n                  >\n                    <CardContent>\n                      <Typography vcolor=\"textSecondary\" gutterBottom>\n                        Saved Locations\n                      </Typography>\n                      <div className=\"next\">\n                        <IconButton\n                          onClick={this.showStats}\n                          className=\"go-and-back\"\n                          color=\"white\"\n                          aria-label=\"next\"\n                        >\n                          <ArrowBackIosIcon />\n                        </IconButton>\n                      </div>\n                      <UserLocations\n                        locations={this.state.myLocations}\n                        clicked={this.goToLocation}\n                      />\n                    </CardContent>\n                  </Card>\n                ) : null}\n              </div>\n            </Grid>\n          </Grid>\n        </div>\n      </ThemeProvider>\n    );\n  }\n}\ndocument.body.style = \"background: #424242;\";\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n    locations: state.locations,\n    stats: state.stats,\n  };\n};\n\nconst mapDispatchToProps = {\n  createLocationSuccess,\n};\n\nconst WrappedContainer = GoogleApiWrapper({\n  apiKey: \"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\",\n})(ClimateMap);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WrappedContainer);\n"]},"metadata":{},"sourceType":"module"}