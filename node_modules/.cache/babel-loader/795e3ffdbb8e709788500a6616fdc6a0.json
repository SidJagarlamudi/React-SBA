{"ast":null,"code":"import _slicedToArray from\"/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{withRouter}from'react-router-dom';import AppBar from'@material-ui/core/AppBar';import Tabs from'@material-ui/core/Tabs';import Tab from'@material-ui/core/Tab';import Dashboard from'./Dashboard';import Login from'./Login';import{createMuiTheme}from'@material-ui/core/styles';import{ThemeProvider}from'@material-ui/styles';import{logoutUser}from'../actions/auth';import{connect}from'react-redux';import NewsFeed from'./NewsFeed';import{useHistory}from\"react-router\";var NavBar=function NavBar(props){var history2=useHistory();var match=props.match,history=props.history;var params=match.params;var page=params.page;var theme=createMuiTheme({palette:{primary:{main:'#83ffe1'},secondary:{main:'#FFFFFF'}}});var tabNameToIndex={0:\"home\",1:'news',2:\"login\"};var indexToTabName={home:0,news:1,login:2};var _React$useState=React.useState(indexToTabName[page]),_React$useState2=_slicedToArray(_React$useState,2),selectedTab=_React$useState2[0],setSelectedTab=_React$useState2[1];var handleChange=function handleChange(event,newValue){history.push(\"\".concat(tabNameToIndex[newValue]));setSelectedTab(newValue);};var handleLogout=function handleLogout(){history.push('/login');localStorage.removeItem('token');};return/*#__PURE__*/React.createElement(ThemeProvider,{theme:theme},/*#__PURE__*/React.createElement(AppBar,{position:\"static\"},/*#__PURE__*/React.createElement(\"div\",{className:\"menu2\"},/*#__PURE__*/React.createElement(Tabs,{value:selectedTab,onChange:handleChange,indicatorColor:\"primary\"},/*#__PURE__*/React.createElement(Tab,{label:\"Home\",className:\"menu-tab\"}),/*#__PURE__*/React.createElement(Tab,{label:\"News\",className:\"menu-tab\"}),props.auth?/*#__PURE__*/React.createElement(\"div\",{className:\"menu-logout-tab\"},/*#__PURE__*/React.createElement(Tab,{label:\"Logout\",onClick:handleLogout,className:\"menu-tab\"})):/*#__PURE__*/React.createElement(\"div\",{className:\"menu-login-tab\"},/*#__PURE__*/React.createElement(Tab,{label:\"Login\"}))))),selectedTab===0&&/*#__PURE__*/React.createElement(Dashboard,props),selectedTab===1&&/*#__PURE__*/React.createElement(NewsFeed,props),selectedTab===2&&/*#__PURE__*/React.createElement(Login,Object.assign({style:{backgroundColor:'#303030'}},props)));};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};var mapDispatchToProps={logoutUser:logoutUser};export default withRouter(connect(mapStateToProps,mapDispatchToProps)(NavBar));","map":{"version":3,"sources":["/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/src/components/NavBar.js"],"names":["React","withRouter","AppBar","Tabs","Tab","Dashboard","Login","createMuiTheme","ThemeProvider","logoutUser","connect","NewsFeed","useHistory","NavBar","props","history2","match","history","params","page","theme","palette","primary","main","secondary","tabNameToIndex","indexToTabName","home","news","login","useState","selectedTab","setSelectedTab","handleChange","event","newValue","push","handleLogout","localStorage","removeItem","auth","backgroundColor","mapStateToProps","state","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Dashboard from './Dashboard'\nimport Login from './Login'\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { logoutUser } from '../actions/auth'\nimport { connect } from 'react-redux'\nimport NewsFeed from './NewsFeed';\nimport { useHistory } from \"react-router\";\n\n\n\nconst NavBar = props => {\n  const history2 = useHistory();\n  const { match, history } = props;\n  const { params } = match;\n  const { page } = params;\n\n  const theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: '#83ffe1',\n      },\n      secondary: {\n        main: '#FFFFFF',\n      },\n    },\n  });\n\n  const tabNameToIndex = {\n    0: \"home\",\n    1: 'news',\n    2: \"login\",\n  }\n  const indexToTabName = {\n    home: 0,\n    news: 1,\n    login: 2,\n  };\n\n  const [selectedTab, setSelectedTab] = React.useState(indexToTabName[page]);\n\n  const handleChange = (event, newValue) => {\n    history.push(`${tabNameToIndex[newValue]}`);\n    setSelectedTab(newValue);\n  };\n\n  const handleLogout = () => {\n    history.push('/login')\n    localStorage.removeItem('token')\n  \n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <AppBar position=\"static\">\n        <div className='menu2'>\n        <Tabs value={selectedTab} onChange={handleChange} indicatorColor=\"primary\">\n          <Tab label=\"Home\" className={\"menu-tab\"}/>\n          <Tab label=\"News\" className={\"menu-tab\"}/>\n          { \n          props.auth ?\n          <div className={\"menu-logout-tab\"}>\n          <Tab label=\"Logout\" onClick={handleLogout} className={\"menu-tab\"}/>\n          </div>\n          :\n          <div className={\"menu-login-tab\"}>\n\n            <Tab label=\"Login\" />\n          </div>\n        }\n        </Tabs>\n        </div>\n      </AppBar>\n      {selectedTab === 0 && <Dashboard {...props}/>}\n      {selectedTab === 1 && <NewsFeed {...props}/>}\n      {selectedTab === 2 && <Login style={{backgroundColor: '#303030'}}{...props}/>}\n      </ThemeProvider>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth\n  }\n}\n\nconst mapDispatchToProps = {\n  logoutUser\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(NavBar))\n"]},"metadata":{},"sourceType":"module"}