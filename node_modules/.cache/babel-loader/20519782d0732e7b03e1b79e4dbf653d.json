{"ast":null,"code":"var _jsxFileName = \"/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/src/components/Login.js\";\nimport React from \"react\";\nimport { loginSuccess } from \"../actions/auth\";\nimport { connect } from \"react-redux\";\nimport LoginBG from \"./LoginBG\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const reqObj = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(this.state)\n      };\n      fetch(\"https://myclimate.herokuapp.com/auth\", reqObj).then(resp => resp.json()).then(data => {\n        if (data.error) {\n          alert(data.error);\n        } else {\n          localStorage.setItem(\"token\", data.token);\n          this.props.loginSuccess(data);\n          this.setState({\n            showLoading: true\n          });\n          this.props.history.push(\"/map\");\n        }\n      });\n    };\n\n    this.showSignUp = () => {\n      this.setState({\n        showSignUp: !this.state.showSignUp\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      const newUser = {\n        email: this.state.email,\n        username: this.state.username,\n        password: this.state.pw\n      };\n      console.log(newUser);\n      const reqObj = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newUser)\n      };\n      fetch('https://myclimate.herokuapp.com/users', reqObj).then(newUser => {\n        this.setState({\n          email: '',\n          username: '',\n          pw: '',\n          showLoading: true\n        });\n        this.props.history.push(\"/login\");\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.signupHover = () => {\n      this.setState({\n        promptDemo: true\n      });\n    };\n\n    this.signupHoverOut = () => {\n      this.setState({\n        promptDemo: false\n      });\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      pw: \"\",\n      email: \"\",\n      showSignUp: false,\n      showLoading: false,\n      promptDemo: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-comp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }, this.state.showSignUp ? /*#__PURE__*/React.createElement(\"div\", {\n      class: \"signup-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleFormSubmit,\n      class: \"signup-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      name: \"email\",\n      id: \"email\",\n      type: \"email\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"label-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }, \"Email\")), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      type: \"username\",\n      name: \"username\",\n      id: \"username\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"label-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }\n    }, \"Username\")), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      type: \"pw\",\n      name: \"pw\",\n      id: \"pw\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"label-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }, \"Password\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"signup-btn\",\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 19\n      }\n    }, \"Submit\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: true,\n      style: {\n        color: \"white\"\n      },\n      onClick: this.showSignUp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 19\n      }\n    }, \"or Log-In\")))) : null, !this.state.showSignUp ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"white\",\n        fontSize: \"large\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }, \"Please Sign-in\"), /*#__PURE__*/React.createElement(\"form\", {\n      class: \"form\",\n      onSubmit: this.handleSubmit.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"username\",\n      type: \"text\",\n      placeholder: \"Username\",\n      onChange: this.handleInputChange,\n      value: this.state.username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"Password\",\n      onChange: this.handleInputChange,\n      value: this.state.password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      id: \"login-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: true,\n      onClick: this.showSignUp,\n      onMouseOver: this.signupHover,\n      onMouseOut: this.signupHoverOut,\n      className: \"signup-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, \"or Sign-Up\"))) : null, this.state.promptDemo ? /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        zIndex: 5,\n        position: 'absolute',\n        color: '#FFFFFF',\n        left: '2%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 36\n      }\n    }, \"For demo purposes => username: 'demo' password: 'demo'\") : null), this.state.showLoading ? /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://media1.giphy.com/media/SUuSRBp7BBjUOEf5Kg/giphy.gif\",\n      alt: \"loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 35\n      }\n    }) : null, /*#__PURE__*/React.createElement(LoginBG, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\ndocument.body.style = \"background: #424242;\";\nconst mapDispatchToProps = {\n  loginSuccess\n};\nexport default connect(null, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/src/components/Login.js"],"names":["React","loginSuccess","connect","LoginBG","Login","Component","constructor","props","handleInputChange","e","setState","target","name","value","handleSubmit","preventDefault","reqObj","method","headers","body","JSON","stringify","state","fetch","then","resp","json","data","error","alert","localStorage","setItem","token","showLoading","history","push","showSignUp","handleFormSubmit","event","newUser","email","username","password","pw","console","log","handleChange","signupHover","promptDemo","signupHoverOut","render","color","fontSize","bind","zIndex","position","left","document","style","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { loginSuccess } from \"../actions/auth\";\nimport { connect } from \"react-redux\";\nimport LoginBG from \"./LoginBG\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      pw: \"\",\n      email: \"\",\n      showSignUp: false,\n      showLoading: false,\n      promptDemo: false,\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const reqObj = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(this.state),\n    };\n\n    fetch(\"https://myclimate.herokuapp.com/auth\", reqObj)\n      .then((resp) => resp.json())\n      .then((data) => {\n        if (data.error) {\n          alert(data.error);\n        } else {\n          localStorage.setItem(\"token\", data.token);\n          this.props.loginSuccess(data);\n          this.setState({\n            showLoading: true\n          })\n          this.props.history.push(\"/map\");\n        }\n      });\n  };\n\n  showSignUp = () => {\n    this.setState({\n      showSignUp: !this.state.showSignUp,\n    });\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const newUser = {email: this.state.email, username: this.state.username, password: this.state.pw}\n    console.log(newUser)\n    const reqObj = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newUser)\n    }\n    fetch('https://myclimate.herokuapp.com/users', reqObj)\n    .then(newUser => {\n      this.setState({\n        email: '',\n        username: '',\n        pw: '',\n        showLoading: true\n      })\n      this.props.history.push(\"/login\");\n    })\n  };\n\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  signupHover = () => {\n    this.setState({\n      promptDemo: true\n    })\n  }\n\n  signupHoverOut = () => {\n    this.setState({\n      promptDemo: false\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"login-comp\">\n          {this.state.showSignUp ? (\n            <div class=\"signup-container\">\n              <section>\n                <form onSubmit={this.handleFormSubmit} class=\"signup-form\">\n                  <label>\n                    <input\n                      onChange={this.handleChange}\n                      name=\"email\"\n                      id=\"email\"\n                      type=\"email\"\n                      required\n                    />\n                    <div class=\"label-text\">Email</div>\n                  </label>\n                  <label>\n                    <input\n                      onChange={this.handleChange}\n                      type=\"username\"\n                      name=\"username\"\n                      id=\"username\"\n                      required\n                    />\n                    <div class=\"label-text\">Username</div>\n                  </label>\n                  <label>\n                    <input\n                      onChange={this.handleChange}\n                      type=\"pw\"\n                      name=\"pw\"\n                      id=\"pw\"\n                      required\n                    />\n                    <div class=\"label-text\">Password</div>\n                  </label>\n                  <br></br>\n                  <button class=\"signup-btn\" type=\"submit\" value=\"Submit\">\n                    Submit\n                  </button>\n                  <br></br>\n                  <a href style={{ color: \"white\" }} onClick={this.showSignUp}>\n                    or Log-In\n                  </a>\n                </form>\n              </section>\n            </div>\n          ) : null}\n          {!this.state.showSignUp ? (\n            <div className=\"login-form\">\n              <span style={{ color: \"white\", fontSize: \"large\" }}>\n                Please Sign-in\n              </span>\n              <form class=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n                <span>\n                  <input\n                    name={\"username\"}\n                    type=\"text\"\n                    placeholder=\"Username\"\n                    onChange={this.handleInputChange}\n                    value={this.state.username}\n                  />\n                  <input\n                    name={\"password\"}\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    onChange={this.handleInputChange}\n                    value={this.state.password}\n                  />\n                </span>\n                <button type=\"submit\" id=\"login-button\">\n                  Login\n                </button>\n                <br></br>\n                <br></br>\n                <a href onClick={this.showSignUp} onMouseOver={this.signupHover} onMouseOut={this.signupHoverOut} className='signup-link'>\n                  or Sign-Up\n                </a>\n              </form>\n            </div>\n          ) : null}\n          {this.state.promptDemo ? <h2 style={{zIndex: 5, position: 'absolute', color: '#FFFFFF', left: '2%'}}>For demo purposes => username: 'demo' password: 'demo'</h2>:null}\n        </div>\n        {this.state.showLoading ? <img src='https://media1.giphy.com/media/SUuSRBp7BBjUOEf5Kg/giphy.gif' alt='loading'></img>:null}\n        <LoginBG />\n      </div>\n    );\n  }\n}\ndocument.body.style = \"background: #424242;\";\n\nconst mapDispatchToProps = {\n  loginSuccess,\n};\n\nexport default connect(null, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}