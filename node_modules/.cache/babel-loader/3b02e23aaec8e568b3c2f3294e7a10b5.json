{"ast":null,"code":"import _defineProperty from\"/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{loginSuccess}from'../actions/auth';import{connect}from'react-redux';import LoginBG from'./LoginBG';var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleInputChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleSubmit=function(e){e.preventDefault();var reqObj={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(_this.state)};fetch('http://localhost:3001/auth',reqObj).then(function(resp){return resp.json();}).then(function(data){if(data.error){alert(data.error);}else{localStorage.setItem('token',data.token);_this.props.loginSuccess(data);_this.props.history.push('/home');}});};_this.showSignUp=function(){_this.setState({showSignUp:!_this.state.showSignUp});};_this.state={username:'',password:'',showSignUp:false};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"login-comp\"},this.state.showSignUp?/*#__PURE__*/React.createElement(\"div\",{class:\"signup-container\"},/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"form\",{class:\"signup-form\"},/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{name:\"name\",id:\"name\",type:\"text\",required:true}),/*#__PURE__*/React.createElement(\"div\",{class:\"label-text\"},\"Full Name\")),/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",id:\"email\",required:true}),/*#__PURE__*/React.createElement(\"div\",{class:\"label-text\"},\"Email\")),/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"tel\",name:\"pw\",id:\"pw\",required:true}),/*#__PURE__*/React.createElement(\"div\",{class:\"label-text\"},\"Password\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{class:\"signup-btn\",type:\"submit\",value:\"Submit\"},\"Submit\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"a\",{href:true,style:{color:'white'},onClick:this.showSignUp},\"or Log-In\")))):null,!this.state.showSignUp?/*#__PURE__*/React.createElement(\"div\",{className:\"login-form\"},/*#__PURE__*/React.createElement(\"span\",{style:{color:'white',fontSize:'large'}},\"Please Sign-in\"),/*#__PURE__*/React.createElement(\"form\",{class:\"form\",onSubmit:this.handleSubmit.bind(this)},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"input\",{name:'username',type:\"text\",placeholder:\"Username\",onChange:this.handleInputChange,value:this.state.username}),/*#__PURE__*/React.createElement(\"input\",{name:'password',type:\"password\",placeholder:\"Password\",onChange:this.handleInputChange,value:this.state.password})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",id:\"login-button\"},\"Login\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"a\",{href:true,style:{color:'white'},onClick:this.showSignUp},\"or Sign-Up\"))):null),/*#__PURE__*/React.createElement(LoginBG,null));}}]);return Login;}(React.Component);document.body.style='background: #424242;';var mapDispatchToProps={loginSuccess:loginSuccess};export default connect(null,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/src/components/Login.js"],"names":["React","loginSuccess","connect","LoginBG","Login","props","handleInputChange","e","setState","target","name","value","handleSubmit","preventDefault","reqObj","method","headers","body","JSON","stringify","state","fetch","then","resp","json","data","error","alert","localStorage","setItem","token","history","push","showSignUp","username","password","color","fontSize","bind","Component","document","style","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { loginSuccess } from '../actions/auth'\nimport { connect }  from 'react-redux'\nimport LoginBG from './LoginBG'\n\nclass Login extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      username: '',\n      password: '',\n      showSignUp: false\n    }\n  }\n\n  handleInputChange = (e) => { this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault()\n    const reqObj = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json'},\n      body: JSON.stringify(this.state)\n    }\n\n    fetch('http://localhost:3001/auth', reqObj)\n    .then(resp => resp.json())\n    .then(data => {\n      if (data.error) {\n        alert(data.error)\n      } else {\n        localStorage.setItem('token', data.token)\n        this.props.loginSuccess(data)\n        this.props.history.push('/home')\n      }\n    })\n  }\n\n  showSignUp = () => {\n    this.setState({\n      showSignUp: !this.state.showSignUp\n    })\n  }\n\n  render(){\n    return (\n      <div>\n      <div className=\"login-comp\">\n        {this.state.showSignUp ? \n      <div class=\"signup-container\">\n    <section>\n      <form class='signup-form'>\n        <label>\n          <input name=\"name\" id=\"name\" type=\"text\" required />\n          <div class=\"label-text\">Full Name</div>\n        </label>\n        <label>\n          <input type=\"email\" name=\"email\" id=\"email\" required />\n          <div class=\"label-text\">Email</div>\n        </label>\n        <label>\n          <input type=\"tel\" name=\"pw\" id=\"pw\" required />\n          <div class=\"label-text\">Password</div>\n        </label>\n        <br></br>\n        <button class='signup-btn' type=\"submit\" value=\"Submit\">Submit</button>\n        <br></br>\n        <a href style={{color: 'white'}} onClick={this.showSignUp}>or Log-In</a>\n      </form>\n    </section>\n  </div>\n        : null}\n        {!this.state.showSignUp ? \n      <div className='login-form'>\n          <span style={{color: 'white', fontSize: 'large'}}>Please Sign-in</span>\n        <form class=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n        <span><input name={'username'} type=\"text\" placeholder=\"Username\" onChange={this.handleInputChange} value={this.state.username}/>\n\t\t\t<input name={'password'} type=\"password\" placeholder=\"Password\" onChange={this.handleInputChange} value={this.state.password}/></span>\n\t\t\t<button type=\"submit\" id=\"login-button\">Login</button>\n      <br></br>\n      <br></br>\n      <a href style={{color: 'white'}} onClick={this.showSignUp}>or Sign-Up</a>\n      </form>\n      </div>\n        : null\n      }\n        </div>\n        <LoginBG/>\n      </div>\n    );\n  }\n}\ndocument.body.style = 'background: #424242;';\n\nconst mapDispatchToProps = {\n  loginSuccess\n}\n\nexport default connect(null, mapDispatchToProps)(Login)"]},"metadata":{},"sourceType":"module"}